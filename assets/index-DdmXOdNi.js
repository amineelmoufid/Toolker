import{initializeApp as my}from"https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";import{getDatabase as hy,ref as rt,get as Bu,set as pi,remove as Ha,onDisconnect as gu,update as Jh,push as gy,serverTimestamp as vy,onValue as mi}from"https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function Xh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vu={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function yy(){if(em)return il;em=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return il.Fragment=t,il.jsx=l,il.jsxs=l,il}var tm;function Ty(){return tm||(tm=1,vu.exports=yy()),vu.exports}var N=Ty(),yu={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function Sy(){if(nm)return se;nm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,G={};function k(M,P,K){this.props=M,this.context=P,this.refs=G,this.updater=K||I}k.prototype.isReactComponent={},k.prototype.setState=function(M,P){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,P,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function X(){}X.prototype=k.prototype;function O(M,P,K){this.props=M,this.context=P,this.refs=G,this.updater=K||I}var F=O.prototype=new X;F.constructor=O,L(F,k.prototype),F.isPureReactComponent=!0;var $=Array.isArray;function te(){}var D={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function Y(M,P,K){var j=K.ref;return{$$typeof:i,type:M,key:P,ref:j!==void 0?j:null,props:K}}function le(M,P){return Y(M.type,P,M.props)}function de(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function Ae(M){var P={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(K){return P[K]})}var Te=/\/+/g;function ke(M,P){return typeof M=="object"&&M!==null&&M.key!=null?Ae(""+M.key):P.toString(36)}function ft(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(te,te):(M.status="pending",M.then(function(P){M.status==="pending"&&(M.status="fulfilled",M.value=P)},function(P){M.status==="pending"&&(M.status="rejected",M.reason=P)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function V(M,P,K,j,re){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(pe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case i:case t:Re=!0;break;case y:return Re=M._init,V(Re(M._payload),P,K,j,re)}}if(Re)return re=re(M),Re=j===""?"."+ke(M,0):j,$(re)?(K="",Re!=null&&(K=Re.replace(Te,"$&/")+"/"),V(re,P,K,"",function(uo){return uo})):re!=null&&(de(re)&&(re=le(re,K+(re.key==null||M&&M.key===re.key?"":(""+re.key).replace(Te,"$&/")+"/")+Re)),P.push(re)),1;Re=0;var lt=j===""?".":j+":";if($(M))for(var ze=0;ze<M.length;ze++)j=M[ze],pe=lt+ke(j,ze),Re+=V(j,P,K,pe,re);else if(ze=A(M),typeof ze=="function")for(M=ze.call(M),ze=0;!(j=M.next()).done;)j=j.value,pe=lt+ke(j,ze++),Re+=V(j,P,K,pe,re);else if(pe==="object"){if(typeof M.then=="function")return V(ft(M),P,K,j,re);throw P=String(M),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Re}function J(M,P,K){if(M==null)return M;var j=[],re=0;return V(M,j,"","",function(pe){return P.call(K,pe,re++)}),j}function oe(M){if(M._status===-1){var P=M._result;P=P(),P.then(function(K){(M._status===0||M._status===-1)&&(M._status=1,M._result=K)},function(K){(M._status===0||M._status===-1)&&(M._status=2,M._result=K)}),M._status===-1&&(M._status=0,M._result=P)}if(M._status===1)return M._result.default;throw M._result}var xe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},De={map:J,forEach:function(M,P,K){J(M,function(){P.apply(this,arguments)},K)},count:function(M){var P=0;return J(M,function(){P++}),P},toArray:function(M){return J(M,function(P){return P})||[]},only:function(M){if(!de(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return se.Activity=S,se.Children=De,se.Component=k,se.Fragment=l,se.Profiler=r,se.PureComponent=O,se.StrictMode=a,se.Suspense=v,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},se.cache=function(M){return function(){return M.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(M,P,K){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var j=L({},M.props),re=M.key;if(P!=null)for(pe in P.key!==void 0&&(re=""+P.key),P)!W.call(P,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&P.ref===void 0||(j[pe]=P[pe]);var pe=arguments.length-2;if(pe===1)j.children=K;else if(1<pe){for(var Re=Array(pe),lt=0;lt<pe;lt++)Re[lt]=arguments[lt+2];j.children=Re}return Y(M.type,re,j)},se.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},se.createElement=function(M,P,K){var j,re={},pe=null;if(P!=null)for(j in P.key!==void 0&&(pe=""+P.key),P)W.call(P,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(re[j]=P[j]);var Re=arguments.length-2;if(Re===1)re.children=K;else if(1<Re){for(var lt=Array(Re),ze=0;ze<Re;ze++)lt[ze]=arguments[ze+2];re.children=lt}if(M&&M.defaultProps)for(j in Re=M.defaultProps,Re)re[j]===void 0&&(re[j]=Re[j]);return Y(M,pe,re)},se.createRef=function(){return{current:null}},se.forwardRef=function(M){return{$$typeof:g,render:M}},se.isValidElement=de,se.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:oe}},se.memo=function(M,P){return{$$typeof:h,type:M,compare:P===void 0?null:P}},se.startTransition=function(M){var P=D.T,K={};D.T=K;try{var j=M(),re=D.S;re!==null&&re(K,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(te,xe)}catch(pe){xe(pe)}finally{P!==null&&K.types!==null&&(P.types=K.types),D.T=P}},se.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},se.use=function(M){return D.H.use(M)},se.useActionState=function(M,P,K){return D.H.useActionState(M,P,K)},se.useCallback=function(M,P){return D.H.useCallback(M,P)},se.useContext=function(M){return D.H.useContext(M)},se.useDebugValue=function(){},se.useDeferredValue=function(M,P){return D.H.useDeferredValue(M,P)},se.useEffect=function(M,P){return D.H.useEffect(M,P)},se.useEffectEvent=function(M){return D.H.useEffectEvent(M)},se.useId=function(){return D.H.useId()},se.useImperativeHandle=function(M,P,K){return D.H.useImperativeHandle(M,P,K)},se.useInsertionEffect=function(M,P){return D.H.useInsertionEffect(M,P)},se.useLayoutEffect=function(M,P){return D.H.useLayoutEffect(M,P)},se.useMemo=function(M,P){return D.H.useMemo(M,P)},se.useOptimistic=function(M,P){return D.H.useOptimistic(M,P)},se.useReducer=function(M,P,K){return D.H.useReducer(M,P,K)},se.useRef=function(M){return D.H.useRef(M)},se.useState=function(M){return D.H.useState(M)},se.useSyncExternalStore=function(M,P,K){return D.H.useSyncExternalStore(M,P,K)},se.useTransition=function(){return D.H.useTransition()},se.version="19.2.3",se}var im;function Pu(){return im||(im=1,yu.exports=Sy()),yu.exports}var fe=Pu();const Ey=Xh(fe);var Tu={exports:{}},ol={},Su={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function _y(){return om||(om=1,(function(i){function t(V,J){var oe=V.length;V.push(J);e:for(;0<oe;){var xe=oe-1>>>1,De=V[xe];if(0<r(De,J))V[xe]=J,V[oe]=De,oe=xe;else break e}}function l(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var J=V[0],oe=V.pop();if(oe!==J){V[0]=oe;e:for(var xe=0,De=V.length,M=De>>>1;xe<M;){var P=2*(xe+1)-1,K=V[P],j=P+1,re=V[j];if(0>r(K,oe))j<De&&0>r(re,K)?(V[xe]=re,V[j]=oe,xe=j):(V[xe]=K,V[P]=oe,xe=P);else if(j<De&&0>r(re,oe))V[xe]=re,V[j]=oe,xe=j;else break e}}return J}function r(V,J){var oe=V.sortIndex-J.sortIndex;return oe!==0?oe:V.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var v=[],h=[],y=1,S=null,E=3,A=!1,I=!1,L=!1,G=!1,k=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function F(V){for(var J=l(h);J!==null;){if(J.callback===null)a(h);else if(J.startTime<=V)a(h),J.sortIndex=J.expirationTime,t(v,J);else break;J=l(h)}}function $(V){if(L=!1,F(V),!I)if(l(v)!==null)I=!0,te||(te=!0,Ae());else{var J=l(h);J!==null&&ft($,J.startTime-V)}}var te=!1,D=-1,W=5,Y=-1;function le(){return G?!0:!(i.unstable_now()-Y<W)}function de(){if(G=!1,te){var V=i.unstable_now();Y=V;var J=!0;try{e:{I=!1,L&&(L=!1,X(D),D=-1),A=!0;var oe=E;try{t:{for(F(V),S=l(v);S!==null&&!(S.expirationTime>V&&le());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,E=S.priorityLevel;var De=xe(S.expirationTime<=V);if(V=i.unstable_now(),typeof De=="function"){S.callback=De,F(V),J=!0;break t}S===l(v)&&a(v),F(V)}else a(v);S=l(v)}if(S!==null)J=!0;else{var M=l(h);M!==null&&ft($,M.startTime-V),J=!1}}break e}finally{S=null,E=oe,A=!1}J=void 0}}finally{J?Ae():te=!1}}}var Ae;if(typeof O=="function")Ae=function(){O(de)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ke=Te.port2;Te.port1.onmessage=de,Ae=function(){ke.postMessage(null)}}else Ae=function(){k(de,0)};function ft(V,J){D=k(function(){V(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(V){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var oe=E;E=J;try{return V()}finally{E=oe}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(V,J){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var oe=E;E=V;try{return J()}finally{E=oe}},i.unstable_scheduleCallback=function(V,J,oe){var xe=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?xe+oe:xe):oe=xe,V){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=oe+De,V={id:y++,callback:J,priorityLevel:V,startTime:oe,expirationTime:De,sortIndex:-1},oe>xe?(V.sortIndex=oe,t(h,V),l(v)===null&&V===l(h)&&(L?(X(D),D=-1):L=!0,ft($,oe-xe))):(V.sortIndex=De,t(v,V),I||A||(I=!0,te||(te=!0,Ae()))),V},i.unstable_shouldYield=le,i.unstable_wrapCallback=function(V){var J=E;return function(){var oe=E;E=J;try{return V.apply(this,arguments)}finally{E=oe}}}})(Eu)),Eu}var lm;function Ay(){return lm||(lm=1,Su.exports=_y()),Su.exports}var _u={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function Cy(){if(am)return nt;am=1;var i=Pu();function t(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(v,h,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:v,containerInfo:h,implementation:y}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nt.createPortal=function(v,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(v,h,null,y)},nt.flushSync=function(v){var h=p.T,y=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=h,a.p=y,a.d.f()}},nt.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(v,h))},nt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},nt.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var y=h.as,S=g(y,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?a.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:A}):y==="script"&&a.d.X(v,{crossOrigin:S,integrity:E,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},nt.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=g(h.as,h.crossOrigin);a.d.M(v,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(v)},nt.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,S=g(y,h.crossOrigin);a.d.L(v,y,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},nt.preloadModule=function(v,h){if(typeof v=="string")if(h){var y=g(h.as,h.crossOrigin);a.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(v)},nt.requestFormReset=function(v){a.d.r(v)},nt.unstable_batchedUpdates=function(v,h){return v(h)},nt.useFormState=function(v,h,y){return p.H.useFormState(v,h,y)},nt.useFormStatus=function(){return p.H.useHostTransitionStatus()},nt.version="19.2.3",nt}var sm;function Ry(){if(sm)return _u.exports;sm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),_u.exports=Cy(),_u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function My(){if(rm)return ol;rm=1;var i=Ay(),t=Pu(),l=Ry();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return v(d),e;if(m===s)return v(d),n;m=m.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=m;else{for(var T=!1,_=d.child;_;){if(_===o){T=!0,o=d,s=m;break}if(_===s){T=!0,s=d,o=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===o){T=!0,o=m,s=d;break}if(_===s){T=!0,s=m,o=d;break}_=_.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case k:return"Profiler";case G:return"StrictMode";case $:return"Suspense";case te:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case O:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ke(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return ke(e(n))}catch{}}return null}var ft=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},xe=[],De=-1;function M(e){return{current:e}}function P(e){0>De||(e.current=xe[De],xe[De]=null,De--)}function K(e,n){De++,xe[De]=e.current,e.current=n}var j=M(null),re=M(null),pe=M(null),Re=M(null);function lt(e,n){switch(K(pe,n),K(re,e),K(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ap(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ap(n),e=Cp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(j),K(j,e)}function ze(){P(j),P(re),P(pe)}function uo(e){e.memoizedState!==null&&K(Re,e);var n=j.current,o=Cp(n,e.type);n!==o&&(K(re,e),K(j,o))}function dl(e){re.current===e&&(P(j),P(re)),Re.current===e&&(P(Re),jo._currentValue=oe)}var Wa,Wu;function Jn(e){if(Wa===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Wa=n&&n[1]||"",Wu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wa+e+Wu}var ja=!1;function es(e,n){if(!e||ja)return"";ja=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(H){var U=H}Reflect.construct(e,[],B)}else{try{B.call()}catch(H){U=H}e.call(B.prototype)}}else{try{throw Error()}catch(H){U=H}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var C=T.split(`
`),b=_.split(`
`);for(d=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;d<b.length&&!b[d].includes("DetermineComponentFrameRoot");)d++;if(s===C.length||d===b.length)for(s=C.length-1,d=b.length-1;1<=s&&0<=d&&C[s]!==b[d];)d--;for(;1<=s&&0<=d;s--,d--)if(C[s]!==b[d]){if(s!==1||d!==1)do if(s--,d--,0>d||C[s]!==b[d]){var q=`
`+C[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{ja=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Jn(o):""}function Yg(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return es(e.type,!1);case 11:return es(e.type.render,!1);case 1:return es(e.type,!0);case 31:return Jn("Activity");default:return""}}function ju(e){try{var n="",o=null;do n+=Yg(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ts=Object.prototype.hasOwnProperty,ns=i.unstable_scheduleCallback,is=i.unstable_cancelCallback,Jg=i.unstable_shouldYield,Xg=i.unstable_requestPaint,Tt=i.unstable_now,Kg=i.unstable_getCurrentPriorityLevel,ec=i.unstable_ImmediatePriority,tc=i.unstable_UserBlockingPriority,pl=i.unstable_NormalPriority,Qg=i.unstable_LowPriority,nc=i.unstable_IdlePriority,Zg=i.log,$g=i.unstable_setDisableYieldValue,co=null,St=null;function Tn(e){if(typeof Zg=="function"&&$g(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(co,e)}catch{}}var Et=Math.clz32?Math.clz32:e0,Wg=Math.log,jg=Math.LN2;function e0(e){return e>>>=0,e===0?32:31-(Wg(e)/jg|0)|0}var ml=256,hl=262144,gl=4194304;function Xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vl(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Xn(s):(T&=_,T!==0?d=Xn(T):o||(o=_&~e,o!==0&&(d=Xn(o))))):(_=s&~m,_!==0?d=Xn(_):T!==0?d=Xn(T):o||(o=s&~e,o!==0&&(d=Xn(o)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:d}function fo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function t0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ic(){var e=gl;return gl<<=1,(gl&62914560)===0&&(gl=4194304),e}function os(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function po(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function n0(e,n,o,s,d,m){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,b=e.hiddenUpdates;for(o=T&~o;0<o;){var q=31-Et(o),B=1<<q;_[q]=0,C[q]=-1;var U=b[q];if(U!==null)for(b[q]=null,q=0;q<U.length;q++){var H=U[q];H!==null&&(H.lane&=-536870913)}o&=~B}s!==0&&oc(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function oc(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function lc(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Et(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function ac(e,n){var o=n&-n;return o=(o&42)!==0?1:ls(o),(o&(e.suspendedLanes|n))!==0?0:o}function ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function as(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Xp(e.type))}function rc(e,n){var o=J.p;try{return J.p=e,n()}finally{J.p=o}}var Sn=Math.random().toString(36).slice(2),$e="__reactFiber$"+Sn,dt="__reactProps$"+Sn,gi="__reactContainer$"+Sn,ss="__reactEvents$"+Sn,i0="__reactListeners$"+Sn,o0="__reactHandles$"+Sn,uc="__reactResources$"+Sn,mo="__reactMarker$"+Sn;function rs(e){delete e[$e],delete e[dt],delete e[ss],delete e[i0],delete e[o0]}function vi(e){var n=e[$e];if(n)return n;for(var o=e.parentNode;o;){if(n=o[gi]||o[$e]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Ip(e);e!==null;){if(o=e[$e])return o;e=Ip(e)}return n}e=o,o=e.parentNode}return null}function yi(e){if(e=e[$e]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ho(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ti(e){var n=e[uc];return n||(n=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ke(e){e[mo]=!0}var cc=new Set,fc={};function Kn(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(fc[e]=n,e=0;e<n.length;e++)cc.add(n[e])}var l0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dc={},pc={};function a0(e){return ts.call(pc,e)?!0:ts.call(dc,e)?!1:l0.test(e)?pc[e]=!0:(dc[e]=!0,!1)}function yl(e,n,o){if(a0(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Tl(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function $t(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function s0(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function us(e){if(!e._valueTracker){var n=mc(e)?"checked":"value";e._valueTracker=s0(e,n,""+e[n])}}function hc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=mc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function Sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var r0=/[\n"\\]/g;function bt(e){return e.replace(r0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cs(e,n,o,s,d,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+wt(n)):e.value!==""+wt(n)&&(e.value=""+wt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?fs(e,T,wt(n)):o!=null?fs(e,T,wt(o)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+wt(_):e.removeAttribute("name")}function gc(e,n,o,s,d,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){us(e);return}o=o!=null?""+wt(o):"",n=n!=null?""+wt(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),us(e)}function fs(e,n,o){n==="number"&&Sl(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ei(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+wt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function vc(e,n,o){if(n!=null&&(n=""+wt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+wt(o):""}function yc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(ft(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=wt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),us(e)}function _i(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var u0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||u0.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Sc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&Tc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&Tc(e,m,n[m])}function ds(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(e){return f0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var ps=null;function ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Ci=null;function Ec(e){var n=yi(e);if(n&&(e=n.stateNode)){var o=e[dt]||null;e:switch(e=n.stateNode,n.type){case"input":if(cs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[dt]||null;if(!d)throw Error(a(90));cs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&hc(s)}break e;case"textarea":vc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&Ei(e,!!o.multiple,n,!1)}}}var hs=!1;function _c(e,n,o){if(hs)return e(n,o);hs=!0;try{var s=e(n);return s}finally{if(hs=!1,(Ai!==null||Ci!==null)&&(ra(),Ai&&(n=Ai,e=Ci,Ci=Ai=null,Ec(n),e)))for(n=0;n<e.length;n++)Ec(e[n])}}function go(e,n){var o=e.stateNode;if(o===null)return null;var s=o[dt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(jt)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){gs=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{gs=!1}var En=null,vs=null,_l=null;function Ac(){if(_l)return _l;var e,n=vs,o=n.length,s,d="value"in En?En.value:En.textContent,m=d.length;for(e=0;e<o&&n[e]===d[e];e++);var T=o-e;for(s=1;s<=T&&n[o-s]===d[m-s];s++);return _l=d.slice(e,1<s?1-s:void 0)}function Al(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Cl(){return!0}function Cc(){return!1}function pt(e){function n(o,s,d,m,T){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Cl:Cc,this.isPropagationStopped=Cc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),n}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=pt(Qn),yo=S({},Qn,{view:0,detail:0}),d0=pt(yo),ys,Ts,To,Ml=S({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(ys=e.screenX-To.screenX,Ts=e.screenY-To.screenY):Ts=ys=0,To=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:Ts}}),Rc=pt(Ml),p0=S({},Ml,{dataTransfer:0}),m0=pt(p0),h0=S({},yo,{relatedTarget:0}),Ss=pt(h0),g0=S({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=pt(g0),y0=S({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=pt(y0),S0=S({},Qn,{data:0}),Mc=pt(S0),E0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=A0[e])?!!n[e]:!1}function Es(){return C0}var R0=S({},yo,{key:function(e){if(e.key){var n=E0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?Al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M0=pt(R0),N0=S({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=pt(N0),x0=S({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),w0=pt(x0),b0=S({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=pt(b0),D0=S({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U0=pt(D0),L0=S({},Qn,{newState:0,oldState:0}),G0=pt(L0),H0=[9,13,27,32],_s=jt&&"CompositionEvent"in window,So=null;jt&&"documentMode"in document&&(So=document.documentMode);var V0=jt&&"TextEvent"in window&&!So,xc=jt&&(!_s||So&&8<So&&11>=So),wc=" ",bc=!1;function Ic(e,n){switch(e){case"keyup":return H0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function q0(e,n){switch(e){case"compositionend":return Dc(n);case"keypress":return n.which!==32?null:(bc=!0,wc);case"textInput":return e=n.data,e===wc&&bc?null:e;default:return null}}function z0(e,n){if(Ri)return e==="compositionend"||!_s&&Ic(e,n)?(e=Ac(),_l=vs=En=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xc&&n.locale!=="ko"?null:n.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!B0[e.type]:n==="textarea"}function Lc(e,n,o,s){Ai?Ci?Ci.push(s):Ci=[s]:Ai=s,n=ha(n,"onChange"),0<n.length&&(o=new Rl("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Eo=null,_o=null;function P0(e){vp(e,0)}function Nl(e){var n=ho(e);if(hc(n))return e}function Gc(e,n){if(e==="change")return n}var Hc=!1;if(jt){var As;if(jt){var Cs="oninput"in document;if(!Cs){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),Cs=typeof Vc.oninput=="function"}As=Cs}else As=!1;Hc=As&&(!document.documentMode||9<document.documentMode)}function qc(){Eo&&(Eo.detachEvent("onpropertychange",zc),_o=Eo=null)}function zc(e){if(e.propertyName==="value"&&Nl(_o)){var n=[];Lc(n,_o,e,ms(e)),_c(P0,n)}}function k0(e,n,o){e==="focusin"?(qc(),Eo=n,_o=o,Eo.attachEvent("onpropertychange",zc)):e==="focusout"&&qc()}function O0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(_o)}function F0(e,n){if(e==="click")return Nl(n)}function Y0(e,n){if(e==="input"||e==="change")return Nl(n)}function J0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _t=typeof Object.is=="function"?Object.is:J0;function Ao(e,n){if(_t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!ts.call(n,d)||!_t(e[d],n[d]))return!1}return!0}function Bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,n){var o=Bc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Bc(o)}}function kc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Oc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Sl(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Sl(e.document)}return n}function Rs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var X0=jt&&"documentMode"in document&&11>=document.documentMode,Mi=null,Ms=null,Co=null,Ns=!1;function Fc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ns||Mi==null||Mi!==Sl(s)||(s=Mi,"selectionStart"in s&&Rs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Co&&Ao(Co,s)||(Co=s,s=ha(Ms,"onSelect"),0<s.length&&(n=new Rl("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Mi)))}function Zn(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Ni={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},xs={},Yc={};jt&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function $n(e){if(xs[e])return xs[e];if(!Ni[e])return e;var n=Ni[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Yc)return xs[e]=n[o];return e}var Jc=$n("animationend"),Xc=$n("animationiteration"),Kc=$n("animationstart"),K0=$n("transitionrun"),Q0=$n("transitionstart"),Z0=$n("transitioncancel"),Qc=$n("transitionend"),Zc=new Map,ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ws.push("scrollEnd");function Pt(e,n){Zc.set(e,n),Kn(n,[e])}var xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],xi=0,bs=0;function wl(){for(var e=xi,n=bs=xi=0;n<e;){var o=It[n];It[n++]=null;var s=It[n];It[n++]=null;var d=It[n];It[n++]=null;var m=It[n];if(It[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&$c(o,d,m)}}function bl(e,n,o,s){It[xi++]=e,It[xi++]=n,It[xi++]=o,It[xi++]=s,bs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Is(e,n,o,s){return bl(e,n,o,s),Il(e)}function Wn(e,n){return bl(e,null,null,n),Il(e)}function $c(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,m=e.return;m!==null;)m.childLanes|=o,s=m.alternate,s!==null&&(s.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Et(o),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),m):null}function Il(e){if(50<Jo)throw Jo=0,Br=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wi={};function $0(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,n,o,s){return new $0(e,n,o,s)}function Ds(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,n){var o=e.alternate;return o===null?(o=At(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Wc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Dl(e,n,o,s,d,m){var T=0;if(s=e,typeof e=="function")Ds(e)&&(T=1);else if(typeof e=="string")T=ny(e,o,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=At(31,o,n,d),e.elementType=Y,e.lanes=m,e;case L:return jn(o.children,d,m,n);case G:T=8,d|=24;break;case k:return e=At(12,o,n,d|2),e.elementType=k,e.lanes=m,e;case $:return e=At(13,o,n,d),e.elementType=$,e.lanes=m,e;case te:return e=At(19,o,n,d),e.elementType=te,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:T=10;break e;case X:T=9;break e;case F:T=11;break e;case D:T=14;break e;case W:T=16,s=null;break e}T=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=At(T,o,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function jn(e,n,o,s){return e=At(7,e,s,n),e.lanes=o,e}function Us(e,n,o){return e=At(6,e,null,n),e.lanes=o,e}function jc(e){var n=At(18,null,null,0);return n.stateNode=e,n}function Ls(e,n,o){return n=At(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ef=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var o=ef.get(e);return o!==void 0?o:(n={value:e,source:n,stack:ju(n)},ef.set(e,n),n)}return{value:e,source:n,stack:ju(n)}}var bi=[],Ii=0,Ul=null,Ro=0,Ut=[],Lt=0,_n=null,Xt=1,Kt="";function tn(e,n){bi[Ii++]=Ro,bi[Ii++]=Ul,Ul=e,Ro=n}function tf(e,n,o){Ut[Lt++]=Xt,Ut[Lt++]=Kt,Ut[Lt++]=_n,_n=e;var s=Xt;e=Kt;var d=32-Et(s)-1;s&=~(1<<d),o+=1;var m=32-Et(n)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Xt=1<<32-Et(n)+d|o<<d|s,Kt=m+e}else Xt=1<<m|o<<d|s,Kt=e}function Gs(e){e.return!==null&&(tn(e,1),tf(e,1,0))}function Hs(e){for(;e===Ul;)Ul=bi[--Ii],bi[Ii]=null,Ro=bi[--Ii],bi[Ii]=null;for(;e===_n;)_n=Ut[--Lt],Ut[Lt]=null,Kt=Ut[--Lt],Ut[Lt]=null,Xt=Ut[--Lt],Ut[Lt]=null}function nf(e,n){Ut[Lt++]=Xt,Ut[Lt++]=Kt,Ut[Lt++]=_n,Xt=n.id,Kt=n.overflow,_n=e}var We=null,Le=null,ye=!1,An=null,Gt=!1,Vs=Error(a(519));function Cn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Dt(n,e)),Vs}function of(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[$e]=e,n[dt]=s,o){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(o=0;o<Ko.length;o++)he(Ko[o],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":he("invalid",n),gc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":he("invalid",n);break;case"textarea":he("invalid",n),yc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||Ep(n.textContent,o)?(s.popover!=null&&(he("beforetoggle",n),he("toggle",n)),s.onScroll!=null&&he("scroll",n),s.onScrollEnd!=null&&he("scrollend",n),s.onClick!=null&&(n.onclick=Wt),n=!0):n=!1,n||Cn(e,!0)}function lf(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:We=We.return}}function Di(e){if(e!==We)return!1;if(!ye)return lf(e),ye=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||tu(e.type,e.memoizedProps)),o=!o),o&&Le&&Cn(e),lf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=bp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=bp(e)}else n===27?(n=Le,qn(e.type)?(e=au,au=null,Le=e):Le=n):Le=We?Vt(e.stateNode.nextSibling):null;return!0}function ei(){Le=We=null,ye=!1}function qs(){var e=An;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),An=null),e}function Mo(e){An===null?An=[e]:An.push(e)}var zs=M(null),ti=null,nn=null;function Rn(e,n,o){K(zs,n._currentValue),n._currentValue=o}function on(e){e._currentValue=zs.current,P(zs)}function Bs(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Ps(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var C=0;C<n.length;C++)if(_.context===n[C]){m.lanes|=o,_=m.alternate,_!==null&&(_.lanes|=o),Bs(m.return,o,e),s||(T=null);break e}m=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),Bs(T,o,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Ui(e,n,o,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=d.type;_t(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===Re.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(jo):e=[jo])}d=d.return}e!==null&&Ps(n,e,o,s),n.flags|=262144}function Ll(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ni(e){ti=e,nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return af(ti,e)}function Gl(e,n){return ti===null&&ni(e),af(e,n)}function af(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},nn===null){if(e===null)throw Error(a(308));nn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else nn=nn.next=n;return o}var W0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},j0=i.unstable_scheduleCallback,ev=i.unstable_NormalPriority,Oe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ks(){return{controller:new W0,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&j0(ev,function(){e.controller.abort()})}var xo=null,Os=0,Li=0,Gi=null;function tv(e,n){if(xo===null){var o=xo=[];Os=0,Li=Jr(),Gi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Os++,n.then(sf,sf),n}function sf(){if(--Os===0&&xo!==null){Gi!==null&&(Gi.status="fulfilled");var e=xo;xo=null,Li=0,Gi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function nv(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var rf=V.S;V.S=function(e,n){Yd=Tt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&tv(e,n),rf!==null&&rf(e,n)};var ii=M(null);function Fs(){var e=ii.current;return e!==null?e:Ue.pooledCache}function Hl(e,n){n===null?K(ii,ii.current):K(ii,n.pool)}function uf(){var e=Fs();return e===null?null:{parent:Oe._currentValue,pool:e}}var Hi=Error(a(460)),Ys=Error(a(474)),Vl=Error(a(542)),ql={then:function(){}};function cf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ff(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Wt,Wt),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pf(e),e;default:if(typeof n.status=="string")n.then(Wt,Wt);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pf(e),e}throw li=n,Hi}}function oi(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(li=o,Hi):o}}var li=null;function df(){if(li===null)throw Error(a(459));var e=li;return li=null,e}function pf(e){if(e===Hi||e===Vl)throw Error(a(483))}var Vi=null,wo=0;function zl(e){var n=wo;return wo+=1,Vi===null&&(Vi=[]),ff(Vi,e,n)}function bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bl(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function mf(e){function n(x,R){if(e){var w=x.deletions;w===null?(x.deletions=[R],x.flags|=16):w.push(R)}}function o(x,R){if(!e)return null;for(;R!==null;)n(x,R),R=R.sibling;return null}function s(x){for(var R=new Map;x!==null;)x.key!==null?R.set(x.key,x):R.set(x.index,x),x=x.sibling;return R}function d(x,R){return x=en(x,R),x.index=0,x.sibling=null,x}function m(x,R,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<R?(x.flags|=67108866,R):w):(x.flags|=67108866,R)):(x.flags|=1048576,R)}function T(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function _(x,R,w,z){return R===null||R.tag!==6?(R=Us(w,x.mode,z),R.return=x,R):(R=d(R,w),R.return=x,R)}function C(x,R,w,z){var ne=w.type;return ne===L?q(x,R,w.props.children,z,w.key):R!==null&&(R.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===W&&oi(ne)===R.type)?(R=d(R,w.props),bo(R,w),R.return=x,R):(R=Dl(w.type,w.key,w.props,null,x.mode,z),bo(R,w),R.return=x,R)}function b(x,R,w,z){return R===null||R.tag!==4||R.stateNode.containerInfo!==w.containerInfo||R.stateNode.implementation!==w.implementation?(R=Ls(w,x.mode,z),R.return=x,R):(R=d(R,w.children||[]),R.return=x,R)}function q(x,R,w,z,ne){return R===null||R.tag!==7?(R=jn(w,x.mode,z,ne),R.return=x,R):(R=d(R,w),R.return=x,R)}function B(x,R,w){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Us(""+R,x.mode,w),R.return=x,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return w=Dl(R.type,R.key,R.props,null,x.mode,w),bo(w,R),w.return=x,w;case I:return R=Ls(R,x.mode,w),R.return=x,R;case W:return R=oi(R),B(x,R,w)}if(ft(R)||Ae(R))return R=jn(R,x.mode,w,null),R.return=x,R;if(typeof R.then=="function")return B(x,zl(R),w);if(R.$$typeof===O)return B(x,Gl(x,R),w);Bl(x,R)}return null}function U(x,R,w,z){var ne=R!==null?R.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return ne!==null?null:_(x,R,""+w,z);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return w.key===ne?C(x,R,w,z):null;case I:return w.key===ne?b(x,R,w,z):null;case W:return w=oi(w),U(x,R,w,z)}if(ft(w)||Ae(w))return ne!==null?null:q(x,R,w,z,null);if(typeof w.then=="function")return U(x,R,zl(w),z);if(w.$$typeof===O)return U(x,R,Gl(x,w),z);Bl(x,w)}return null}function H(x,R,w,z,ne){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return x=x.get(w)||null,_(R,x,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return x=x.get(z.key===null?w:z.key)||null,C(R,x,z,ne);case I:return x=x.get(z.key===null?w:z.key)||null,b(R,x,z,ne);case W:return z=oi(z),H(x,R,w,z,ne)}if(ft(z)||Ae(z))return x=x.get(w)||null,q(R,x,z,ne,null);if(typeof z.then=="function")return H(x,R,w,zl(z),ne);if(z.$$typeof===O)return H(x,R,w,Gl(R,z),ne);Bl(R,z)}return null}function Z(x,R,w,z){for(var ne=null,Se=null,ee=R,ce=R=0,ve=null;ee!==null&&ce<w.length;ce++){ee.index>ce?(ve=ee,ee=null):ve=ee.sibling;var Ee=U(x,ee,w[ce],z);if(Ee===null){ee===null&&(ee=ve);break}e&&ee&&Ee.alternate===null&&n(x,ee),R=m(Ee,R,ce),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee,ee=ve}if(ce===w.length)return o(x,ee),ye&&tn(x,ce),ne;if(ee===null){for(;ce<w.length;ce++)ee=B(x,w[ce],z),ee!==null&&(R=m(ee,R,ce),Se===null?ne=ee:Se.sibling=ee,Se=ee);return ye&&tn(x,ce),ne}for(ee=s(ee);ce<w.length;ce++)ve=H(ee,x,ce,w[ce],z),ve!==null&&(e&&ve.alternate!==null&&ee.delete(ve.key===null?ce:ve.key),R=m(ve,R,ce),Se===null?ne=ve:Se.sibling=ve,Se=ve);return e&&ee.forEach(function(On){return n(x,On)}),ye&&tn(x,ce),ne}function ie(x,R,w,z){if(w==null)throw Error(a(151));for(var ne=null,Se=null,ee=R,ce=R=0,ve=null,Ee=w.next();ee!==null&&!Ee.done;ce++,Ee=w.next()){ee.index>ce?(ve=ee,ee=null):ve=ee.sibling;var On=U(x,ee,Ee.value,z);if(On===null){ee===null&&(ee=ve);break}e&&ee&&On.alternate===null&&n(x,ee),R=m(On,R,ce),Se===null?ne=On:Se.sibling=On,Se=On,ee=ve}if(Ee.done)return o(x,ee),ye&&tn(x,ce),ne;if(ee===null){for(;!Ee.done;ce++,Ee=w.next())Ee=B(x,Ee.value,z),Ee!==null&&(R=m(Ee,R,ce),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee);return ye&&tn(x,ce),ne}for(ee=s(ee);!Ee.done;ce++,Ee=w.next())Ee=H(ee,x,ce,Ee.value,z),Ee!==null&&(e&&Ee.alternate!==null&&ee.delete(Ee.key===null?ce:Ee.key),R=m(Ee,R,ce),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee);return e&&ee.forEach(function(py){return n(x,py)}),ye&&tn(x,ce),ne}function Ie(x,R,w,z){if(typeof w=="object"&&w!==null&&w.type===L&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case A:e:{for(var ne=w.key;R!==null;){if(R.key===ne){if(ne=w.type,ne===L){if(R.tag===7){o(x,R.sibling),z=d(R,w.props.children),z.return=x,x=z;break e}}else if(R.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===W&&oi(ne)===R.type){o(x,R.sibling),z=d(R,w.props),bo(z,w),z.return=x,x=z;break e}o(x,R);break}else n(x,R);R=R.sibling}w.type===L?(z=jn(w.props.children,x.mode,z,w.key),z.return=x,x=z):(z=Dl(w.type,w.key,w.props,null,x.mode,z),bo(z,w),z.return=x,x=z)}return T(x);case I:e:{for(ne=w.key;R!==null;){if(R.key===ne)if(R.tag===4&&R.stateNode.containerInfo===w.containerInfo&&R.stateNode.implementation===w.implementation){o(x,R.sibling),z=d(R,w.children||[]),z.return=x,x=z;break e}else{o(x,R);break}else n(x,R);R=R.sibling}z=Ls(w,x.mode,z),z.return=x,x=z}return T(x);case W:return w=oi(w),Ie(x,R,w,z)}if(ft(w))return Z(x,R,w,z);if(Ae(w)){if(ne=Ae(w),typeof ne!="function")throw Error(a(150));return w=ne.call(w),ie(x,R,w,z)}if(typeof w.then=="function")return Ie(x,R,zl(w),z);if(w.$$typeof===O)return Ie(x,R,Gl(x,w),z);Bl(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,R!==null&&R.tag===6?(o(x,R.sibling),z=d(R,w),z.return=x,x=z):(o(x,R),z=Us(w,x.mode,z),z.return=x,x=z),T(x)):o(x,R)}return function(x,R,w,z){try{wo=0;var ne=Ie(x,R,w,z);return Vi=null,ne}catch(ee){if(ee===Hi||ee===Vl)throw ee;var Se=At(29,ee,null,x.mode);return Se.lanes=z,Se.return=x,Se}finally{}}}var ai=mf(!0),hf=mf(!1),Mn=!1;function Js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ce&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Il(e),$c(e,null,o),n}return bl(e,s,n,o),Il(e)}function Io(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,lc(e,o)}}function Ks(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?d=m=n:m=m.next=n}else d=m=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Qs=!1;function Do(){if(Qs){var e=Gi;if(e!==null)throw e}}function Uo(e,n,o,s){Qs=!1;var d=e.updateQueue;Mn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var C=_,b=C.next;C.next=null,T===null?m=b:T.next=b,T=C;var q=e.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==T&&(_===null?q.firstBaseUpdate=b:_.next=b,q.lastBaseUpdate=C))}if(m!==null){var B=d.baseState;T=0,q=b=C=null,_=m;do{var U=_.lane&-536870913,H=U!==_.lane;if(H?(ge&U)===U:(s&U)===U){U!==0&&U===Li&&(Qs=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Z=e,ie=_;U=n;var Ie=o;switch(ie.tag){case 1:if(Z=ie.payload,typeof Z=="function"){B=Z.call(Ie,B,U);break e}B=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ie.payload,U=typeof Z=="function"?Z.call(Ie,B,U):Z,U==null)break e;B=S({},B,U);break e;case 2:Mn=!0}}U=_.callback,U!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[U]:H.push(U))}else H={lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(b=q=H,C=B):q=q.next=H,T|=U;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;H=_,_=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);q===null&&(C=B),d.baseState=C,d.firstBaseUpdate=b,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),Un|=T,e.lanes=T,e.memoizedState=B}}function gf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function vf(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)gf(o[e],n)}var qi=M(null),Pl=M(0);function yf(e,n){e=pn,K(Pl,e),K(qi,n),pn=e|n.baseLanes}function Zs(){K(Pl,pn),K(qi,qi.current)}function $s(){pn=Pl.current,P(qi),P(Pl)}var Ct=M(null),Ht=null;function wn(e){var n=e.alternate;K(Be,Be.current&1),K(Ct,e),Ht===null&&(n===null||qi.current!==null||n.memoizedState!==null)&&(Ht=e)}function Ws(e){K(Be,Be.current),K(Ct,e),Ht===null&&(Ht=e)}function Tf(e){e.tag===22?(K(Be,Be.current),K(Ct,e),Ht===null&&(Ht=e)):bn()}function bn(){K(Be,Be.current),K(Ct,Ct.current)}function Rt(e){P(Ct),Ht===e&&(Ht=null),P(Be)}var Be=M(0);function kl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ou(o)||lu(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ln=0,ue=null,we=null,Fe=null,Ol=!1,zi=!1,si=!1,Fl=0,Lo=0,Bi=null,iv=0;function Ve(){throw Error(a(321))}function js(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!_t(e[o],n[o]))return!1;return!0}function er(e,n,o,s,d,m){return ln=m,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,V.H=e===null||e.memoizedState===null?nd:hr,si=!1,m=o(s,d),si=!1,zi&&(m=Ef(n,o,s,d)),Sf(e),m}function Sf(e){V.H=Vo;var n=we!==null&&we.next!==null;if(ln=0,Fe=we=ue=null,Ol=!1,Lo=0,Bi=null,n)throw Error(a(300));e===null||Ye||(e=e.dependencies,e!==null&&Ll(e)&&(Ye=!0))}function Ef(e,n,o,s){ue=e;var d=0;do{if(zi&&(Bi=null),Lo=0,zi=!1,25<=d)throw Error(a(301));if(d+=1,Fe=we=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}V.H=id,m=n(o,s)}while(zi);return m}function ov(){var e=V.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(ue.flags|=1024),n}function tr(){var e=Fl!==0;return Fl=0,e}function nr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function ir(e){if(Ol){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ol=!1}ln=0,Fe=we=ue=null,zi=!1,Lo=Fl=0,Bi=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ue.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Pe(){if(we===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var n=Fe===null?ue.memoizedState:Fe.next;if(n!==null)Fe=n,we=e;else{if(e===null)throw ue.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Fe===null?ue.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Lo;return Lo+=1,Bi===null&&(Bi=[]),e=ff(Bi,e,n),n=ue,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,V.H=n===null||n.memoizedState===null?nd:hr),e}function Jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===O)return je(e)}throw Error(a(438,String(e)))}function or(e){var n=null,o=ue.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Yl(),ue.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=le;return n.index++,o}function an(e,n){return typeof n=="function"?n(e):n}function Xl(e){var n=Pe();return lr(n,we,e)}function lr(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=T=null,C=null,b=n,q=!1;do{var B=b.lane&-536870913;if(B!==b.lane?(ge&B)===B:(ln&B)===B){var U=b.revertLane;if(U===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),B===Li&&(q=!0);else if((ln&U)===U){b=b.next,U===Li&&(q=!0);continue}else B={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},C===null?(_=C=B,T=m):C=C.next=B,ue.lanes|=U,Un|=U;B=b.action,si&&o(m,B),m=b.hasEagerState?b.eagerState:o(m,B)}else U={lane:B,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},C===null?(_=C=U,T=m):C=C.next=U,ue.lanes|=B,Un|=B;b=b.next}while(b!==null&&b!==n);if(C===null?T=m:C.next=_,!_t(m,e.memoizedState)&&(Ye=!0,q&&(o=Gi,o!==null)))throw o;e.memoizedState=m,e.baseState=T,e.baseQueue=C,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ar(e){var n=Pe(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,m=n.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do m=e(m,T.action),T=T.next;while(T!==d);_t(m,n.memoizedState)||(Ye=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,s]}function _f(e,n,o){var s=ue,d=Pe(),m=ye;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=n();var T=!_t((we||d).memoizedState,o);if(T&&(d.memoizedState=o,Ye=!0),d=d.queue,ur(Rf.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,Pi(9,{destroy:void 0},Cf.bind(null,s,d,o,n),null),Ue===null)throw Error(a(349));m||(ln&127)!==0||Af(s,n,o)}return o}function Af(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ue.updateQueue,n===null?(n=Yl(),ue.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Cf(e,n,o,s){n.value=o,n.getSnapshot=s,Mf(n)&&Nf(e)}function Rf(e,n,o){return o(function(){Mf(n)&&Nf(e)})}function Mf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!_t(e,o)}catch{return!0}}function Nf(e){var n=Wn(e,2);n!==null&&yt(n,e,2)}function sr(e){var n=at();if(typeof e=="function"){var o=e;if(e=o(),si){Tn(!0);try{o()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},n}function xf(e,n,o,s){return e.baseState=o,lr(e,we,typeof s=="function"?s:an)}function lv(e,n,o,s,d){if(Zl(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};V.T!==null?o(!0):m.isTransition=!1,s(m),o=n.pending,o===null?(m.next=n.pending=m,wf(n,m)):(m.next=o.next,n.pending=o.next=m)}}function wf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=V.T,T={};V.T=T;try{var _=o(d,s),C=V.S;C!==null&&C(T,_),bf(e,n,_)}catch(b){rr(e,n,b)}finally{m!==null&&T.types!==null&&(m.types=T.types),V.T=m}}else try{m=o(d,s),bf(e,n,m)}catch(b){rr(e,n,b)}}function bf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){If(e,n,s)},function(s){return rr(e,n,s)}):If(e,n,o)}function If(e,n,o){n.status="fulfilled",n.value=o,Df(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,wf(e,o)))}function rr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Df(n),n=n.next;while(n!==s)}e.action=null}function Df(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Uf(e,n){return n}function Lf(e,n){if(ye){var o=Ue.formState;if(o!==null){e:{var s=ue;if(ye){if(Le){t:{for(var d=Le,m=Gt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Vt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Le=Vt(d.nextSibling),s=d.data==="F!";break e}}Cn(s)}s=!1}s&&(n=o[0])}}return o=at(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:n},o.queue=s,o=jf.bind(null,ue,s),s.dispatch=o,s=sr(!1),m=mr.bind(null,ue,!1,s.queue),s=at(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=lv.bind(null,ue,d,m,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Gf(e){var n=Pe();return Hf(n,we,e)}function Hf(e,n,o){if(n=lr(e,n,Uf)[0],e=Xl(an)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Go(n)}catch(T){throw T===Hi?Vl:T}else s=n;n=Pe();var d=n.queue,m=d.dispatch;return o!==n.memoizedState&&(ue.flags|=2048,Pi(9,{destroy:void 0},av.bind(null,d,o),null)),[s,m,e]}function av(e,n){e.action=n}function Vf(e){var n=Pe(),o=we;if(o!==null)return Hf(n,o,e);Pe(),n=n.memoizedState,o=Pe();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Pi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=ue.updateQueue,n===null&&(n=Yl(),ue.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function qf(){return Pe().memoizedState}function Kl(e,n,o,s){var d=at();ue.flags|=e,d.memoizedState=Pi(1|n,{destroy:void 0},o,s===void 0?null:s)}function Ql(e,n,o,s){var d=Pe();s=s===void 0?null:s;var m=d.memoizedState.inst;we!==null&&s!==null&&js(s,we.memoizedState.deps)?d.memoizedState=Pi(n,m,o,s):(ue.flags|=e,d.memoizedState=Pi(1|n,m,o,s))}function zf(e,n){Kl(8390656,8,e,n)}function ur(e,n){Ql(2048,8,e,n)}function sv(e){ue.flags|=4;var n=ue.updateQueue;if(n===null)n=Yl(),ue.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Bf(e){var n=Pe().memoizedState;return sv({ref:n,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Pf(e,n){return Ql(4,2,e,n)}function kf(e,n){return Ql(4,4,e,n)}function Of(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ff(e,n,o){o=o!=null?o.concat([e]):null,Ql(4,4,Of.bind(null,n,e),o)}function cr(){}function Yf(e,n){var o=Pe();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&js(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Jf(e,n){var o=Pe();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&js(n,s[1]))return s[0];if(s=e(),si){Tn(!0);try{e()}finally{Tn(!1)}}return o.memoizedState=[s,n],s}function fr(e,n,o){return o===void 0||(ln&1073741824)!==0&&(ge&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Xd(),ue.lanes|=e,Un|=e,o)}function Xf(e,n,o,s){return _t(o,n)?o:qi.current!==null?(e=fr(e,o,s),_t(e,n)||(Ye=!0),e):(ln&42)===0||(ln&1073741824)!==0&&(ge&261930)===0?(Ye=!0,e.memoizedState=o):(e=Xd(),ue.lanes|=e,Un|=e,n)}function Kf(e,n,o,s,d){var m=J.p;J.p=m!==0&&8>m?m:8;var T=V.T,_={};V.T=_,mr(e,!1,n,o);try{var C=d(),b=V.S;if(b!==null&&b(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var q=nv(C,s);Ho(e,n,q,xt(e))}else Ho(e,n,s,xt(e))}catch(B){Ho(e,n,{then:function(){},status:"rejected",reason:B},xt())}finally{J.p=m,T!==null&&_.types!==null&&(T.types=_.types),V.T=T}}function rv(){}function dr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=Qf(e).queue;Kf(e,d,n,oe,o===null?rv:function(){return Zf(e),o(s)})}function Qf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:oe},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zf(e){var n=Qf(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},xt())}function pr(){return je(jo)}function $f(){return Pe().memoizedState}function Wf(){return Pe().memoizedState}function uv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=xt();e=Nn(o);var s=xn(n,e,o);s!==null&&(yt(s,n,o),Io(s,n,o)),n={cache:ks()},e.payload=n;return}n=n.return}}function cv(e,n,o){var s=xt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zl(e)?ed(n,o):(o=Is(e,n,o,s),o!==null&&(yt(o,e,s),td(o,n,s)))}function jf(e,n,o){var s=xt();Ho(e,n,o,s)}function Ho(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zl(e))ed(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,o);if(d.hasEagerState=!0,d.eagerState=_,_t(_,T))return bl(e,n,d,0),Ue===null&&wl(),!1}catch{}finally{}if(o=Is(e,n,d,s),o!==null)return yt(o,e,s),td(o,n,s),!0}return!1}function mr(e,n,o,s){if(s={lane:2,revertLane:Jr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zl(e)){if(n)throw Error(a(479))}else n=Is(e,o,s,2),n!==null&&yt(n,e,2)}function Zl(e){var n=e.alternate;return e===ue||n!==null&&n===ue}function ed(e,n){zi=Ol=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function td(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,lc(e,o)}}var Vo={readContext:je,use:Jl,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Vo.useEffectEvent=Ve;var nd={readContext:je,use:Jl,useCallback:function(e,n){return at().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:zf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Kl(4194308,4,Of.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Kl(4194308,4,e,n)},useInsertionEffect:function(e,n){Kl(4,2,e,n)},useMemo:function(e,n){var o=at();n=n===void 0?null:n;var s=e();if(si){Tn(!0);try{e()}finally{Tn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=at();if(o!==void 0){var d=o(n);if(si){Tn(!0);try{o(n)}finally{Tn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=cv.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var n=at();return e={current:e},n.memoizedState=e},useState:function(e){e=sr(e);var n=e.queue,o=jf.bind(null,ue,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:cr,useDeferredValue:function(e,n){var o=at();return fr(o,e,n)},useTransition:function(){var e=sr(!1);return e=Kf.bind(null,ue,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=ue,d=at();if(ye){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Ue===null)throw Error(a(349));(ge&127)!==0||Af(s,n,o)}d.memoizedState=o;var m={value:o,getSnapshot:n};return d.queue=m,zf(Rf.bind(null,s,m,e),[e]),s.flags|=2048,Pi(9,{destroy:void 0},Cf.bind(null,s,m,o,n),null),o},useId:function(){var e=at(),n=Ue.identifierPrefix;if(ye){var o=Kt,s=Xt;o=(s&~(1<<32-Et(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Fl++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=iv++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pr,useFormState:Lf,useActionState:Lf,useOptimistic:function(e){var n=at();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=mr.bind(null,ue,!0,o),o.dispatch=n,[e,n]},useMemoCache:or,useCacheRefresh:function(){return at().memoizedState=uv.bind(null,ue)},useEffectEvent:function(e){var n=at(),o={impl:e};return n.memoizedState=o,function(){if((Ce&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},hr={readContext:je,use:Jl,useCallback:Yf,useContext:je,useEffect:ur,useImperativeHandle:Ff,useInsertionEffect:Pf,useLayoutEffect:kf,useMemo:Jf,useReducer:Xl,useRef:qf,useState:function(){return Xl(an)},useDebugValue:cr,useDeferredValue:function(e,n){var o=Pe();return Xf(o,we.memoizedState,e,n)},useTransition:function(){var e=Xl(an)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:_f,useId:$f,useHostTransitionStatus:pr,useFormState:Gf,useActionState:Gf,useOptimistic:function(e,n){var o=Pe();return xf(o,we,e,n)},useMemoCache:or,useCacheRefresh:Wf};hr.useEffectEvent=Bf;var id={readContext:je,use:Jl,useCallback:Yf,useContext:je,useEffect:ur,useImperativeHandle:Ff,useInsertionEffect:Pf,useLayoutEffect:kf,useMemo:Jf,useReducer:ar,useRef:qf,useState:function(){return ar(an)},useDebugValue:cr,useDeferredValue:function(e,n){var o=Pe();return we===null?fr(o,e,n):Xf(o,we.memoizedState,e,n)},useTransition:function(){var e=ar(an)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:_f,useId:$f,useHostTransitionStatus:pr,useFormState:Vf,useActionState:Vf,useOptimistic:function(e,n){var o=Pe();return we!==null?xf(o,we,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:or,useCacheRefresh:Wf};id.useEffectEvent=Bf;function gr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:S({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var vr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=xt(),d=Nn(s);d.payload=n,o!=null&&(d.callback=o),n=xn(e,d,s),n!==null&&(yt(n,e,s),Io(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=xt(),d=Nn(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=xn(e,d,s),n!==null&&(yt(n,e,s),Io(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=xt(),s=Nn(o);s.tag=2,n!=null&&(s.callback=n),n=xn(e,s,o),n!==null&&(yt(n,e,o),Io(n,e,o))}};function od(e,n,o,s,d,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!Ao(o,s)||!Ao(d,m):!0}function ld(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&vr.enqueueReplaceState(n,n.state,null)}function ri(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=S({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function ad(e){xl(e)}function sd(e){console.error(e)}function rd(e){xl(e)}function $l(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ud(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yr(e,n,o){return o=Nn(o),o.tag=3,o.payload={element:null},o.callback=function(){$l(e,n)},o}function cd(e){return e=Nn(e),e.tag=3,e}function fd(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){ud(n,o,s)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){ud(n,o,s),typeof d!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function fv(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Ui(n,o,d,!0),o=Ct.current,o!==null){switch(o.tag){case 31:case 13:return Ht===null?ua():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===ql?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Or(e,s,d)),!1;case 22:return o.flags|=65536,s===ql?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Or(e,s,d)),!1}throw Error(a(435,o.tag))}return Or(e,s,d),ua(),!1}if(ye)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Vs&&(e=Error(a(422),{cause:s}),Mo(Dt(e,o)))):(s!==Vs&&(n=Error(a(423),{cause:s}),Mo(Dt(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Dt(s,o),d=yr(e.stateNode,s,d),Ks(e,d),qe!==4&&(qe=2)),!1;var m=Error(a(520),{cause:s});if(m=Dt(m,o),Yo===null?Yo=[m]:Yo.push(m),qe!==4&&(qe=2),n===null)return!0;s=Dt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=yr(o.stateNode,s,e),Ks(o,e),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ln===null||!Ln.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=cd(d),fd(d,e,o,s),Ks(o,d),!1}o=o.return}while(o!==null);return!1}var Tr=Error(a(461)),Ye=!1;function et(e,n,o,s){n.child=e===null?hf(n,null,o,s):ai(n,e.child,o,s)}function dd(e,n,o,s,d){o=o.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return ni(n),s=er(e,n,o,T,m,d),_=tr(),e!==null&&!Ye?(nr(e,n,d),sn(e,n,d)):(ye&&_&&Gs(n),n.flags|=1,et(e,n,s,d),n.child)}function pd(e,n,o,s,d){if(e===null){var m=o.type;return typeof m=="function"&&!Ds(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,md(e,n,m,s,d)):(e=Dl(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Nr(e,d)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ao,o(T,s)&&e.ref===n.ref)return sn(e,n,d)}return n.flags|=1,e=en(m,s),e.ref=n.ref,e.return=n,n.child=e}function md(e,n,o,s,d){if(e!==null){var m=e.memoizedProps;if(Ao(m,s)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=s=m,Nr(e,d))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,sn(e,n,d)}return Sr(e,n,o,s,d)}function hd(e,n,o,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return gd(e,n,m,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hl(n,m!==null?m.cachePool:null),m!==null?yf(n,m):Zs(),Tf(n);else return s=n.lanes=536870912,gd(e,n,m!==null?m.baseLanes|o:o,o,s)}else m!==null?(Hl(n,m.cachePool),yf(n,m),bn(),n.memoizedState=null):(e!==null&&Hl(n,null),Zs(),bn());return et(e,n,d,o),n.child}function qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gd(e,n,o,s,d){var m=Fs();return m=m===null?null:{parent:Oe._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&Hl(n,null),Zs(),Tf(n),e!==null&&Ui(e,n,s,!0),n.childLanes=d,null}function Wl(e,n){return n=ea({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function vd(e,n,o){return ai(n,e.child,null,o),e=Wl(n,n.pendingProps),e.flags|=2,Rt(n),n.memoizedState=null,e}function dv(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ye){if(s.mode==="hidden")return e=Wl(n,s),n.lanes=536870912,qo(null,e);if(Ws(n),(e=Le)?(e=wp(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Xt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},o=jc(e),o.return=n,n.child=o,We=n,Le=null)):e=null,e===null)throw Cn(n);return n.lanes=536870912,null}return Wl(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Ws(n),d)if(n.flags&256)n.flags&=-257,n=vd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ye||Ui(e,n,o,!1),d=(o&e.childLanes)!==0,Ye||d){if(s=Ue,s!==null&&(T=ac(s,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,Wn(e,T),yt(s,e,T),Tr;ua(),n=vd(e,n,o)}else e=m.treeContext,Le=Vt(T.nextSibling),We=n,ye=!0,An=null,Gt=!1,e!==null&&nf(n,e),n=Wl(n,s),n.flags|=4096;return n}return e=en(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function jl(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Sr(e,n,o,s,d){return ni(n),o=er(e,n,o,s,void 0,d),s=tr(),e!==null&&!Ye?(nr(e,n,d),sn(e,n,d)):(ye&&s&&Gs(n),n.flags|=1,et(e,n,o,d),n.child)}function yd(e,n,o,s,d,m){return ni(n),n.updateQueue=null,o=Ef(n,s,o,d),Sf(e),s=tr(),e!==null&&!Ye?(nr(e,n,m),sn(e,n,m)):(ye&&s&&Gs(n),n.flags|=1,et(e,n,o,m),n.child)}function Td(e,n,o,s,d){if(ni(n),n.stateNode===null){var m=wi,T=o.contextType;typeof T=="object"&&T!==null&&(m=je(T)),m=new o(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Js(n),T=o.contextType,m.context=typeof T=="object"&&T!==null?je(T):wi,m.state=n.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(gr(n,o,T,s),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&vr.enqueueReplaceState(m,m.state,null),Uo(n,s,m,d),Do(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,C=ri(o,_);m.props=C;var b=m.context,q=o.contextType;T=wi,typeof q=="object"&&q!==null&&(T=je(q));var B=o.getDerivedStateFromProps;q=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||b!==T)&&ld(n,m,s,T),Mn=!1;var U=n.memoizedState;m.state=U,Uo(n,s,m,d),Do(),b=n.memoizedState,_||U!==b||Mn?(typeof B=="function"&&(gr(n,o,B,s),b=n.memoizedState),(C=Mn||od(n,o,C,s,U,b,T))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=b),m.props=s,m.state=b,m.context=T,s=C):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Xs(e,n),T=n.memoizedProps,q=ri(o,T),m.props=q,B=n.pendingProps,U=m.context,b=o.contextType,C=wi,typeof b=="object"&&b!==null&&(C=je(b)),_=o.getDerivedStateFromProps,(b=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==B||U!==C)&&ld(n,m,s,C),Mn=!1,U=n.memoizedState,m.state=U,Uo(n,s,m,d),Do();var H=n.memoizedState;T!==B||U!==H||Mn||e!==null&&e.dependencies!==null&&Ll(e.dependencies)?(typeof _=="function"&&(gr(n,o,_,s),H=n.memoizedState),(q=Mn||od(n,o,q,s,U,H,C)||e!==null&&e.dependencies!==null&&Ll(e.dependencies))?(b||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,H,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,H,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=H),m.props=s,m.state=H,m.context=C,s=q):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,jl(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=ai(n,e.child,null,d),n.child=ai(n,null,o,d)):et(e,n,o,d),n.memoizedState=m.state,e=n.child):e=sn(e,n,d),e}function Sd(e,n,o,s){return ei(),n.flags|=256,et(e,n,o,s),n.child}var Er={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _r(e){return{baseLanes:e,cachePool:uf()}}function Ar(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Nt),e}function Ed(e,n,o){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(ye){if(d?wn(n):bn(),(e=Le)?(e=wp(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Xt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},o=jc(e),o.return=n,n.child=o,We=n,Le=null)):e=null,e===null)throw Cn(n);return lu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(bn(),d=n.mode,_=ea({mode:"hidden",children:_},d),s=jn(s,d,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=_r(o),s.childLanes=Ar(e,T,o),n.memoizedState=Er,qo(null,s)):(wn(n),Cr(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(m)n.flags&256?(wn(n),n.flags&=-257,n=Rr(e,n,o)):n.memoizedState!==null?(bn(),n.child=e.child,n.flags|=128,n=null):(bn(),_=s.fallback,d=n.mode,s=ea({mode:"visible",children:s.children},d),_=jn(_,d,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,ai(n,e.child,null,o),s=n.child,s.memoizedState=_r(o),s.childLanes=Ar(e,T,o),n.memoizedState=Er,n=qo(null,s));else if(wn(n),lu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var b=T.dgst;T=b,s=Error(a(419)),s.stack="",s.digest=T,Mo({value:s,source:null,stack:null}),n=Rr(e,n,o)}else if(Ye||Ui(e,n,o,!1),T=(o&e.childLanes)!==0,Ye||T){if(T=Ue,T!==null&&(s=ac(T,o),s!==0&&s!==C.retryLane))throw C.retryLane=s,Wn(e,s),yt(T,e,s),Tr;ou(_)||ua(),n=Rr(e,n,o)}else ou(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Le=Vt(_.nextSibling),We=n,ye=!0,An=null,Gt=!1,e!==null&&nf(n,e),n=Cr(n,s.children),n.flags|=4096);return n}return d?(bn(),_=s.fallback,d=n.mode,C=e.child,b=C.sibling,s=en(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,b!==null?_=en(b,_):(_=jn(_,d,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,qo(null,s),s=n.child,_=e.child.memoizedState,_===null?_=_r(o):(d=_.cachePool,d!==null?(C=Oe._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=uf(),_={baseLanes:_.baseLanes|o,cachePool:d}),s.memoizedState=_,s.childLanes=Ar(e,T,o),n.memoizedState=Er,qo(e.child,s)):(wn(n),o=e.child,e=o.sibling,o=en(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=o,n.memoizedState=null,o)}function Cr(e,n){return n=ea({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ea(e,n){return e=At(22,e,null,n),e.lanes=0,e}function Rr(e,n,o){return ai(n,e.child,null,o),e=Cr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _d(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Bs(e.return,n,o)}function Mr(e,n,o,s,d,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=o,T.tailMode=d,T.treeForkCount=m)}function Ad(e,n,o){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var T=Be.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,K(Be,T),et(e,n,s,o),s=ye?Ro:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_d(e,o,n);else if(e.tag===19)_d(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&kl(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Mr(n,!1,d,o,m,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&kl(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Mr(n,!0,o,null,m,s);break;case"together":Mr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function sn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Un|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Ui(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=en(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=en(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Nr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ll(e)))}function pv(e,n,o){switch(n.tag){case 3:lt(n,n.stateNode.containerInfo),Rn(n,Oe,e.memoizedState.cache),ei();break;case 27:case 5:uo(n);break;case 4:lt(n,n.stateNode.containerInfo);break;case 10:Rn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ws(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(wn(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Ed(e,n,o):(wn(n),e=sn(e,n,o),e!==null?e.sibling:null);wn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Ui(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return Ad(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(Be,Be.current),s)break;return null;case 22:return n.lanes=0,hd(e,n,o,n.pendingProps);case 24:Rn(n,Oe,e.memoizedState.cache)}return sn(e,n,o)}function Cd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!Nr(e,o)&&(n.flags&128)===0)return Ye=!1,pv(e,n,o);Ye=(e.flags&131072)!==0}else Ye=!1,ye&&(n.flags&1048576)!==0&&tf(n,Ro,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=oi(n.elementType),n.type=e,typeof e=="function")Ds(e)?(s=ri(e,s),n.tag=1,n=Td(null,n,e,s,o)):(n.tag=0,n=Sr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===F){n.tag=11,n=dd(null,n,e,s,o);break e}else if(d===D){n.tag=14,n=pd(null,n,e,s,o);break e}}throw n=ke(e)||e,Error(a(306,n,""))}}return n;case 0:return Sr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=ri(s,n.pendingProps),Td(e,n,s,d,o);case 3:e:{if(lt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Xs(e,n),Uo(n,s,null,o);var T=n.memoizedState;if(s=T.cache,Rn(n,Oe,s),s!==m.cache&&Ps(n,[Oe],o,!0),Do(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Sd(e,n,s,o);break e}else if(s!==d){d=Dt(Error(a(424)),n),Mo(d),n=Sd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Vt(e.firstChild),We=n,ye=!0,An=null,Gt=!0,o=hf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ei(),s===d){n=sn(e,n,o);break e}et(e,n,s,o)}n=n.child}return n;case 26:return jl(e,n),e===null?(o=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=o:ye||(o=n.type,e=n.pendingProps,s=ga(pe.current).createElement(o),s[$e]=n,s[dt]=e,tt(s,o,e),Ke(s),n.stateNode=s):n.memoizedState=Gp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return uo(n),e===null&&ye&&(s=n.stateNode=Dp(n.type,n.pendingProps,pe.current),We=n,Gt=!0,d=Le,qn(n.type)?(au=d,Le=Vt(s.firstChild)):Le=d),et(e,n,n.pendingProps.children,o),jl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ye&&((d=s=Le)&&(s=Ov(s,n.type,n.pendingProps,Gt),s!==null?(n.stateNode=s,We=n,Le=Vt(s.firstChild),Gt=!1,d=!0):d=!1),d||Cn(n)),uo(n),d=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,tu(d,m)?s=null:T!==null&&tu(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=er(e,n,ov,null,null,o),jo._currentValue=d),jl(e,n),et(e,n,s,o),n.child;case 6:return e===null&&ye&&((e=o=Le)&&(o=Fv(o,n.pendingProps,Gt),o!==null?(n.stateNode=o,We=n,Le=null,e=!0):e=!1),e||Cn(n)),null;case 13:return Ed(e,n,o);case 4:return lt(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ai(n,null,s,o):et(e,n,s,o),n.child;case 11:return dd(e,n,n.type,n.pendingProps,o);case 7:return et(e,n,n.pendingProps,o),n.child;case 8:return et(e,n,n.pendingProps.children,o),n.child;case 12:return et(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Rn(n,n.type,s.value),et(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ni(n),d=je(d),s=s(d),n.flags|=1,et(e,n,s,o),n.child;case 14:return pd(e,n,n.type,n.pendingProps,o);case 15:return md(e,n,n.type,n.pendingProps,o);case 19:return Ad(e,n,o);case 31:return dv(e,n,o);case 22:return hd(e,n,o,n.pendingProps);case 24:return ni(n),s=je(Oe),e===null?(d=Fs(),d===null&&(d=Ue,m=ks(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),n.memoizedState={parent:s,cache:d},Js(n),Rn(n,Oe,d)):((e.lanes&o)!==0&&(Xs(e,n),Uo(n,null,null,o),Do()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Rn(n,Oe,s)):(s=m.cache,Rn(n,Oe,s),s!==d.cache&&Ps(n,[Oe],o,!0))),et(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rn(e){e.flags|=4}function xr(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if($d())e.flags|=8192;else throw li=ql,Ys}else e.flags&=-16777217}function Rd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bp(n))if($d())e.flags|=8192;else throw li=ql,Ys}function ta(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ic():536870912,e.lanes|=n,Yi|=n)}function zo(e,n){if(!ye)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function mv(e,n,o){var s=n.pendingProps;switch(Hs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),on(Oe),ze(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Di(n)?rn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qs())),Ge(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(rn(n),m!==null?(Ge(n),Rd(n,m)):(Ge(n),xr(n,d,null,s,o))):m?m!==e.memoizedState?(rn(n),Ge(n),Rd(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&rn(n),Ge(n),xr(n,d,e,s,o)),null;case 27:if(dl(n),o=pe.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=j.current,Di(n)?of(n):(e=Dp(d,s,o),n.stateNode=e,rn(n))}return Ge(n),null;case 5:if(dl(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=j.current,Di(n))of(n);else{var T=ga(pe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}m[$e]=n,m[dt]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(tt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&rn(n)}}return Ge(n),xr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=pe.current,Di(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=We,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[$e]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Ep(e.nodeValue,o)),e||Cn(n,!0)}else e=ga(e).createTextNode(s),e[$e]=n,n.stateNode=e}return Ge(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Di(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[$e]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else o=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Rt(n),n):(Rt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Di(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[$e]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else d=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Rt(n),n):(Rt(n),null)}return Rt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),ta(n,n.updateQueue),Ge(n),null);case 4:return ze(),e===null&&Zr(n.stateNode.containerInfo),Ge(n),null;case 10:return on(n.type),Ge(n),null;case 19:if(P(Be),s=n.memoizedState,s===null)return Ge(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)zo(s,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=kl(e),m!==null){for(n.flags|=128,zo(s,!1),e=m.updateQueue,n.updateQueue=e,ta(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Wc(o,e),o=o.sibling;return K(Be,Be.current&1|2),ye&&tn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&Tt()>aa&&(n.flags|=128,d=!0,zo(s,!1),n.lanes=4194304)}else{if(!d)if(e=kl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ta(n,e),zo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!ye)return Ge(n),null}else 2*Tt()-s.renderingStartTime>aa&&o!==536870912&&(n.flags|=128,d=!0,zo(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,o=Be.current,K(Be,d?o&1|2:o&1),ye&&tn(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return Rt(n),$s(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),o=n.updateQueue,o!==null&&ta(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&P(ii),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),on(Oe),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function hv(e,n){switch(Hs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return on(Oe),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dl(n),null;case 31:if(n.memoizedState!==null){if(Rt(n),n.alternate===null)throw Error(a(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(Be),null;case 4:return ze(),null;case 10:return on(n.type),null;case 22:case 23:return Rt(n),$s(),e!==null&&P(ii),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return on(Oe),null;case 25:return null;default:return null}}function Md(e,n){switch(Hs(n),n.tag){case 3:on(Oe),ze();break;case 26:case 27:case 5:dl(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&Rt(n);break;case 13:Rt(n);break;case 19:P(Be);break;case 10:on(n.type);break;case 22:case 23:Rt(n),$s(),e!==null&&P(ii);break;case 24:on(Oe)}}function Bo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var m=o.create,T=o.inst;s=m(),T.destroy=s}o=o.next}while(o!==d)}}catch(_){Ne(n,n.return,_)}}function In(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=n;var C=o,b=_;try{b()}catch(q){Ne(d,C,q)}}}s=s.next}while(s!==m)}}catch(q){Ne(n,n.return,q)}}function Nd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{vf(n,o)}catch(s){Ne(e,e.return,s)}}}function xd(e,n,o){o.props=ri(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Ne(e,n,s)}}function Po(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){Ne(e,n,d)}}function Qt(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){Ne(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ne(e,n,d)}else o.current=null}function wd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){Ne(e,e.return,d)}}function wr(e,n,o){try{var s=e.stateNode;Vv(s,e.type,o,n),s[dt]=n}catch(d){Ne(e,e.return,d)}}function bd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qn(e.type)||e.tag===4}function br(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ir(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Wt));else if(s!==4&&(s===27&&qn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Ir(e,n,o),e=e.sibling;e!==null;)Ir(e,n,o),e=e.sibling}function na(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&qn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(na(e,n,o),e=e.sibling;e!==null;)na(e,n,o),e=e.sibling}function Id(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);tt(n,s,o),n[$e]=e,n[dt]=o}catch(m){Ne(e,e.return,m)}}var un=!1,Je=!1,Dr=!1,Dd=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function gv(e,n){if(e=e.containerInfo,jr=Aa,e=Oc(e),Rs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,_=-1,C=-1,b=0,q=0,B=e,U=null;t:for(;;){for(var H;B!==o||d!==0&&B.nodeType!==3||(_=T+d),B!==m||s!==0&&B.nodeType!==3||(C=T+s),B.nodeType===3&&(T+=B.nodeValue.length),(H=B.firstChild)!==null;)U=B,B=H;for(;;){if(B===e)break t;if(U===o&&++b===d&&(_=T),U===m&&++q===s&&(C=T),(H=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=H}o=_===-1||C===-1?null:{start:_,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(eu={focusedElem:e,selectionRange:o},Aa=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=n,d=m.memoizedProps,m=m.memoizedState,s=o.stateNode;try{var Z=ri(o.type,d);e=s.getSnapshotBeforeUpdate(Z,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Ne(o,o.return,ie)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)iu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Ud(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:fn(e,o),s&4&&Bo(5,o);break;case 1:if(fn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(T){Ne(o,o.return,T)}else{var d=ri(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ne(o,o.return,T)}}s&64&&Nd(o),s&512&&Po(o,o.return);break;case 3:if(fn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{vf(e,n)}catch(T){Ne(o,o.return,T)}}break;case 27:n===null&&s&4&&Id(o);case 26:case 5:fn(e,o),n===null&&s&4&&wd(o),s&512&&Po(o,o.return);break;case 12:fn(e,o);break;case 31:fn(e,o),s&4&&Hd(e,o);break;case 13:fn(e,o),s&4&&Vd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Rv.bind(null,o),Yv(e,o))));break;case 22:if(s=o.memoizedState!==null||un,!s){n=n!==null&&n.memoizedState!==null||Je,d=un;var m=Je;un=s,(Je=n)&&!m?dn(e,o,(o.subtreeFlags&8772)!==0):fn(e,o),un=d,Je=m}break;case 30:break;default:fn(e,o)}}function Ld(e){var n=e.alternate;n!==null&&(e.alternate=null,Ld(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&rs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,mt=!1;function cn(e,n,o){for(o=o.child;o!==null;)Gd(e,n,o),o=o.sibling}function Gd(e,n,o){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(co,o)}catch{}switch(o.tag){case 26:Je||Qt(o,n),cn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Je||Qt(o,n);var s=He,d=mt;qn(o.type)&&(He=o.stateNode,mt=!1),cn(e,n,o),Zo(o.stateNode),He=s,mt=d;break;case 5:Je||Qt(o,n);case 6:if(s=He,d=mt,He=null,cn(e,n,o),He=s,mt=d,He!==null)if(mt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(o.stateNode)}catch(m){Ne(o,n,m)}else try{He.removeChild(o.stateNode)}catch(m){Ne(o,n,m)}break;case 18:He!==null&&(mt?(e=He,Np(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),ji(e)):Np(He,o.stateNode));break;case 4:s=He,d=mt,He=o.stateNode.containerInfo,mt=!0,cn(e,n,o),He=s,mt=d;break;case 0:case 11:case 14:case 15:In(2,o,n),Je||In(4,o,n),cn(e,n,o);break;case 1:Je||(Qt(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&xd(o,n,s)),cn(e,n,o);break;case 21:cn(e,n,o);break;case 22:Je=(s=Je)||o.memoizedState!==null,cn(e,n,o),Je=s;break;default:cn(e,n,o)}}function Hd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(o){Ne(n,n.return,o)}}}function Vd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(o){Ne(n,n.return,o)}}function vv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dd),n;default:throw Error(a(435,e.tag))}}function ia(e,n){var o=vv(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=Mv.bind(null,e,s);s.then(d,d)}})}function ht(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(qn(_.type)){He=_.stateNode,mt=!1;break e}break;case 5:He=_.stateNode,mt=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,mt=!0;break e}_=_.return}if(He===null)throw Error(a(160));Gd(m,T,d),He=null,mt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qd(n,e),n=n.sibling}var kt=null;function qd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ht(n,e),gt(e),s&4&&(In(3,e,e.return),Bo(3,e),In(5,e,e.return));break;case 1:ht(n,e),gt(e),s&512&&(Je||o===null||Qt(o,o.return)),s&64&&un&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=kt;if(ht(n,e),gt(e),s&512&&(Je||o===null||Qt(o,o.return)),s&4){var m=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[mo]||m[$e]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),tt(m,s,o),m[$e]=e,Ke(m),s=m;break e;case"link":var T=qp("link","href",d).get(s+(o.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(_,1);break t}}m=d.createElement(s),tt(m,s,o),d.head.appendChild(m);break;case"meta":if(T=qp("meta","content",d).get(s+(o.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(_,1);break t}}m=d.createElement(s),tt(m,s,o),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[$e]=e,Ke(m),s=m}e.stateNode=s}else zp(d,e.type,e.stateNode);else e.stateNode=Vp(d,s,e.memoizedProps);else m!==s?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,s===null?zp(d,e.type,e.stateNode):Vp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&wr(e,e.memoizedProps,o.memoizedProps)}break;case 27:ht(n,e),gt(e),s&512&&(Je||o===null||Qt(o,o.return)),o!==null&&s&4&&wr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(ht(n,e),gt(e),s&512&&(Je||o===null||Qt(o,o.return)),e.flags&32){d=e.stateNode;try{_i(d,"")}catch(Z){Ne(e,e.return,Z)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,wr(e,d,o!==null?o.memoizedProps:d)),s&1024&&(Dr=!0);break;case 6:if(ht(n,e),gt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(Z){Ne(e,e.return,Z)}}break;case 3:if(Ta=null,d=kt,kt=va(n.containerInfo),ht(n,e),kt=d,gt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{ji(n.containerInfo)}catch(Z){Ne(e,e.return,Z)}Dr&&(Dr=!1,zd(e));break;case 4:s=kt,kt=va(e.stateNode.containerInfo),ht(n,e),gt(e),kt=s;break;case 12:ht(n,e),gt(e);break;case 31:ht(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ia(e,s)));break;case 13:ht(n,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(la=Tt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ia(e,s)));break;case 22:d=e.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,b=un,q=Je;if(un=b||d,Je=q||C,ht(n,e),Je=q,un=b,gt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||C||un||Je||ui(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){C=o=n;try{if(m=C.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=C.stateNode;var B=C.memoizedProps.style,U=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Z){Ne(C,C.return,Z)}}}else if(n.tag===6){if(o===null){C=n;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(Z){Ne(C,C.return,Z)}}}else if(n.tag===18){if(o===null){C=n;try{var H=C.stateNode;d?xp(H,!0):xp(C.stateNode,!1)}catch(Z){Ne(C,C.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,ia(e,o))));break;case 19:ht(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ia(e,s)));break;case 30:break;case 21:break;default:ht(n,e),gt(e)}}function gt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(bd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,m=br(e);na(e,m,d);break;case 5:var T=o.stateNode;o.flags&32&&(_i(T,""),o.flags&=-33);var _=br(e);na(e,_,T);break;case 3:case 4:var C=o.stateNode.containerInfo,b=br(e);Ir(e,b,C);break;default:throw Error(a(161))}}catch(q){Ne(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function zd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;zd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function fn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ud(e,n.alternate,n),n=n.sibling}function ui(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),ui(n);break;case 1:Qt(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&xd(n,n.return,o),ui(n);break;case 27:Zo(n.stateNode);case 26:case 5:Qt(n,n.return),ui(n);break;case 22:n.memoizedState===null&&ui(n);break;case 30:ui(n);break;default:ui(n)}e=e.sibling}}function dn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:dn(d,m,o),Bo(4,m);break;case 1:if(dn(d,m,o),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(b){Ne(s,s.return,b)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)gf(C[d],_)}catch(b){Ne(s,s.return,b)}}o&&T&64&&Nd(m),Po(m,m.return);break;case 27:Id(m);case 26:case 5:dn(d,m,o),o&&s===null&&T&4&&wd(m),Po(m,m.return);break;case 12:dn(d,m,o);break;case 31:dn(d,m,o),o&&T&4&&Hd(d,m);break;case 13:dn(d,m,o),o&&T&4&&Vd(d,m);break;case 22:m.memoizedState===null&&dn(d,m,o),Po(m,m.return);break;case 30:break;default:dn(d,m,o)}n=n.sibling}}function Ur(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&No(o))}function Lr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e))}function Ot(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bd(e,n,o,s),n=n.sibling}function Bd(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Ot(e,n,o,s),d&2048&&Bo(9,n);break;case 1:Ot(e,n,o,s);break;case 3:Ot(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e)));break;case 12:if(d&2048){Ot(e,n,o,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ne(n,n.return,C)}}else Ot(e,n,o,s);break;case 31:Ot(e,n,o,s);break;case 13:Ot(e,n,o,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Ot(e,n,o,s):ko(e,n):m._visibility&2?Ot(e,n,o,s):(m._visibility|=2,ki(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Ur(T,n);break;case 24:Ot(e,n,o,s),d&2048&&Lr(n.alternate,n);break;default:Ot(e,n,o,s)}}function ki(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=o,C=s,b=T.flags;switch(T.tag){case 0:case 11:case 15:ki(m,T,_,C,d),Bo(8,T);break;case 23:break;case 22:var q=T.stateNode;T.memoizedState!==null?q._visibility&2?ki(m,T,_,C,d):ko(m,T):(q._visibility|=2,ki(m,T,_,C,d)),d&&b&2048&&Ur(T.alternate,T);break;case 24:ki(m,T,_,C,d),d&&b&2048&&Lr(T.alternate,T);break;default:ki(m,T,_,C,d)}n=n.sibling}}function ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:ko(o,s),d&2048&&Ur(s.alternate,s);break;case 24:ko(o,s),d&2048&&Lr(s.alternate,s);break;default:ko(o,s)}n=n.sibling}}var Oo=8192;function Oi(e,n,o){if(e.subtreeFlags&Oo)for(e=e.child;e!==null;)Pd(e,n,o),e=e.sibling}function Pd(e,n,o){switch(e.tag){case 26:Oi(e,n,o),e.flags&Oo&&e.memoizedState!==null&&iy(o,kt,e.memoizedState,e.memoizedProps);break;case 5:Oi(e,n,o);break;case 3:case 4:var s=kt;kt=va(e.stateNode.containerInfo),Oi(e,n,o),kt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Oo,Oo=16777216,Oi(e,n,o),Oo=s):Oi(e,n,o));break;default:Oi(e,n,o)}}function kd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Fo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Qe=s,Fd(s,e)}kd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Od(e),e=e.sibling}function Od(e){switch(e.tag){case 0:case 11:case 15:Fo(e),e.flags&2048&&In(9,e,e.return);break;case 3:Fo(e);break;case 12:Fo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,oa(e)):Fo(e);break;default:Fo(e)}}function oa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Qe=s,Fd(s,e)}kd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:In(8,n,n.return),oa(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,oa(n));break;default:oa(n)}e=e.sibling}}function Fd(e,n){for(;Qe!==null;){var o=Qe;switch(o.tag){case 0:case 11:case 15:In(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:No(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Qe=s;else e:for(o=e;Qe!==null;){s=Qe;var d=s.sibling,m=s.return;if(Ld(s),s===o){Qe=null;break e}if(d!==null){d.return=m,Qe=d;break e}Qe=m}}}var yv={getCacheForType:function(e){var n=je(Oe),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return je(Oe).controller.signal}},Tv=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ue=null,me=null,ge=0,Me=0,Mt=null,Dn=!1,Fi=!1,Gr=!1,pn=0,qe=0,Un=0,ci=0,Hr=0,Nt=0,Yi=0,Yo=null,vt=null,Vr=!1,la=0,Yd=0,aa=1/0,sa=null,Ln=null,Xe=0,Gn=null,Ji=null,mn=0,qr=0,zr=null,Jd=null,Jo=0,Br=null;function xt(){return(Ce&2)!==0&&ge!==0?ge&-ge:V.T!==null?Jr():sc()}function Xd(){if(Nt===0)if((ge&536870912)===0||ye){var e=hl;hl<<=1,(hl&3932160)===0&&(hl=262144),Nt=e}else Nt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Nt}function yt(e,n,o){(e===Ue&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Xi(e,0),Hn(e,ge,Nt,!1)),po(e,o),((Ce&2)===0||e!==Ue)&&(e===Ue&&((Ce&2)===0&&(ci|=o),qe===4&&Hn(e,ge,Nt,!1)),Zt(e))}function Kd(e,n,o){if((Ce&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||fo(e,n),d=s?_v(e,n):kr(e,n,!0),m=s;do{if(d===0){Fi&&!s&&Hn(e,n,0,!1);break}else{if(o=e.current.alternate,m&&!Sv(o)){d=kr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;d=Yo;var C=_.current.memoizedState.isDehydrated;if(C&&(Xi(_,T).flags|=256),T=kr(_,T,!1),T!==2){if(Gr&&!C){_.errorRecoveryDisabledLanes|=m,ci|=m,d=4;break e}m=vt,vt=d,m!==null&&(vt===null?vt=m:vt.push.apply(vt,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){Xi(e,0),Hn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hn(s,n,Nt,!Dn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=la+300-Tt(),10<d)){if(Hn(s,n,Nt,!Dn),vl(s,0,!0)!==0)break e;mn=n,s.timeoutHandle=Rp(Qd.bind(null,s,o,vt,sa,Vr,n,Nt,ci,Yi,Dn,m,"Throttled",-0,0),d);break e}Qd(s,o,vt,sa,Vr,n,Nt,ci,Yi,Dn,m,null,-0,0)}}break}while(!0);Zt(e)}function Qd(e,n,o,s,d,m,T,_,C,b,q,B,U,H){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},Pd(n,m,B);var Z=(m&62914560)===m?la-Tt():(m&4194048)===m?Yd-Tt():0;if(Z=oy(B,Z),Z!==null){mn=m,e.cancelPendingCommit=Z(ip.bind(null,e,n,m,o,s,d,T,_,C,q,B,null,U,H)),Hn(e,m,T,!b);return}}ip(e,n,m,o,s,d,T,_,C)}function Sv(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],m=d.getSnapshot;d=d.value;try{if(!_t(m(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(e,n,o,s){n&=~Hr,n&=~ci,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Et(d),T=1<<m;s[m]=-1,d&=~T}o!==0&&oc(e,o,n)}function ra(){return(Ce&6)===0?(Xo(0),!1):!0}function Pr(){if(me!==null){if(Me===0)var e=me.return;else e=me,nn=ti=null,ir(e),Vi=null,wo=0,e=me;for(;e!==null;)Md(e.alternate,e),e=e.return;me=null}}function Xi(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Bv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),mn=0,Pr(),Ue=e,me=o=en(e.current,null),ge=n,Me=0,Mt=null,Dn=!1,Fi=fo(e,n),Gr=!1,Yi=Nt=Hr=ci=Un=qe=0,vt=Yo=null,Vr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Et(s),m=1<<d;n|=e[d],s&=~m}return pn=n,wl(),o}function Zd(e,n){ue=null,V.H=Vo,n===Hi||n===Vl?(n=df(),Me=3):n===Ys?(n=df(),Me=4):Me=n===Tr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mt=n,me===null&&(qe=1,$l(e,Dt(n,e.current)))}function $d(){var e=Ct.current;return e===null?!0:(ge&4194048)===ge?Ht===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Ht:!1}function Wd(){var e=V.H;return V.H=Vo,e===null?Vo:e}function jd(){var e=V.A;return V.A=yv,e}function ua(){qe=4,Dn||(ge&4194048)!==ge&&Ct.current!==null||(Fi=!0),(Un&134217727)===0&&(ci&134217727)===0||Ue===null||Hn(Ue,ge,Nt,!1)}function kr(e,n,o){var s=Ce;Ce|=2;var d=Wd(),m=jd();(Ue!==e||ge!==n)&&(sa=null,Xi(e,n)),n=!1;var T=qe;e:do try{if(Me!==0&&me!==null){var _=me,C=Mt;switch(Me){case 8:Pr(),T=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var b=Me;if(Me=0,Mt=null,Ki(e,_,C,b),o&&Fi){T=0;break e}break;default:b=Me,Me=0,Mt=null,Ki(e,_,C,b)}}Ev(),T=qe;break}catch(q){Zd(e,q)}while(!0);return n&&e.shellSuspendCounter++,nn=ti=null,Ce=s,V.H=d,V.A=m,me===null&&(Ue=null,ge=0,wl()),T}function Ev(){for(;me!==null;)ep(me)}function _v(e,n){var o=Ce;Ce|=2;var s=Wd(),d=jd();Ue!==e||ge!==n?(sa=null,aa=Tt()+500,Xi(e,n)):Fi=fo(e,n);e:do try{if(Me!==0&&me!==null){n=me;var m=Mt;t:switch(Me){case 1:Me=0,Mt=null,Ki(e,n,m,1);break;case 2:case 9:if(cf(m)){Me=0,Mt=null,tp(n);break}n=function(){Me!==2&&Me!==9||Ue!==e||(Me=7),Zt(e)},m.then(n,n);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:cf(m)?(Me=0,Mt=null,tp(n)):(Me=0,Mt=null,Ki(e,n,m,7));break;case 5:var T=null;switch(me.tag){case 26:T=me.memoizedState;case 5:case 27:var _=me;if(T?Bp(T):_.stateNode.complete){Me=0,Mt=null;var C=_.sibling;if(C!==null)me=C;else{var b=_.return;b!==null?(me=b,ca(b)):me=null}break t}}Me=0,Mt=null,Ki(e,n,m,5);break;case 6:Me=0,Mt=null,Ki(e,n,m,6);break;case 8:Pr(),qe=6;break e;default:throw Error(a(462))}}Av();break}catch(q){Zd(e,q)}while(!0);return nn=ti=null,V.H=s,V.A=d,Ce=o,me!==null?0:(Ue=null,ge=0,wl(),qe)}function Av(){for(;me!==null&&!Jg();)ep(me)}function ep(e){var n=Cd(e.alternate,e,pn);e.memoizedProps=e.pendingProps,n===null?ca(e):me=n}function tp(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=yd(o,n,n.pendingProps,n.type,void 0,ge);break;case 11:n=yd(o,n,n.pendingProps,n.type.render,n.ref,ge);break;case 5:ir(n);default:Md(o,n),n=me=Wc(n,pn),n=Cd(o,n,pn)}e.memoizedProps=e.pendingProps,n===null?ca(e):me=n}function Ki(e,n,o,s){nn=ti=null,ir(n),Vi=null,wo=0;var d=n.return;try{if(fv(e,d,n,o,ge)){qe=1,$l(e,Dt(o,e.current)),me=null;return}}catch(m){if(d!==null)throw me=d,m;qe=1,$l(e,Dt(o,e.current)),me=null;return}n.flags&32768?(ye||s===1?e=!0:Fi||(ge&536870912)!==0?e=!1:(Dn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),np(n,e)):ca(n)}function ca(e){var n=e;do{if((n.flags&32768)!==0){np(n,Dn);return}e=n.return;var o=mv(n.alternate,n,pn);if(o!==null){me=o;return}if(n=n.sibling,n!==null){me=n;return}me=n=e}while(n!==null);qe===0&&(qe=5)}function np(e,n){do{var o=hv(e.alternate,e);if(o!==null){o.flags&=32767,me=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){me=e;return}me=e=o}while(e!==null);qe=6,me=null}function ip(e,n,o,s,d,m,T,_,C){e.cancelPendingCommit=null;do fa();while(Xe!==0);if((Ce&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=bs,n0(e,o,m,T,_,C),e===Ue&&(me=Ue=null,ge=0),Ji=n,Gn=e,mn=o,qr=m,zr=d,Jd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nv(pl,function(){return rp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=V.T,V.T=null,d=J.p,J.p=2,T=Ce,Ce|=4;try{gv(e,n,o)}finally{Ce=T,J.p=d,V.T=s}}Xe=1,op(),lp(),ap()}}function op(){if(Xe===1){Xe=0;var e=Gn,n=Ji,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var s=J.p;J.p=2;var d=Ce;Ce|=4;try{qd(n,e);var m=eu,T=Oc(e.containerInfo),_=m.focusedElem,C=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&kc(_.ownerDocument.documentElement,_)){if(C!==null&&Rs(_)){var b=C.start,q=C.end;if(q===void 0&&(q=b),"selectionStart"in _)_.selectionStart=b,_.selectionEnd=Math.min(q,_.value.length);else{var B=_.ownerDocument||document,U=B&&B.defaultView||window;if(U.getSelection){var H=U.getSelection(),Z=_.textContent.length,ie=Math.min(C.start,Z),Ie=C.end===void 0?ie:Math.min(C.end,Z);!H.extend&&ie>Ie&&(T=Ie,Ie=ie,ie=T);var x=Pc(_,ie),R=Pc(_,Ie);if(x&&R&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==R.node||H.focusOffset!==R.offset)){var w=B.createRange();w.setStart(x.node,x.offset),H.removeAllRanges(),ie>Ie?(H.addRange(w),H.extend(R.node,R.offset)):(w.setEnd(R.node,R.offset),H.addRange(w))}}}}for(B=[],H=_;H=H.parentNode;)H.nodeType===1&&B.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var z=B[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Aa=!!jr,eu=jr=null}finally{Ce=d,J.p=s,V.T=o}}e.current=n,Xe=2}}function lp(){if(Xe===2){Xe=0;var e=Gn,n=Ji,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var s=J.p;J.p=2;var d=Ce;Ce|=4;try{Ud(e,n.alternate,n)}finally{Ce=d,J.p=s,V.T=o}}Xe=3}}function ap(){if(Xe===4||Xe===3){Xe=0,Xg();var e=Gn,n=Ji,o=mn,s=Jd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xe=5:(Xe=0,Ji=Gn=null,sp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ln=null),as(o),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(co,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=V.T,d=J.p,J.p=2,V.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{V.T=n,J.p=d}}(mn&3)!==0&&fa(),Zt(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===Br?Jo++:(Jo=0,Br=e):Jo=0,Xo(0)}}function sp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,No(n)))}function fa(){return op(),lp(),ap(),rp()}function rp(){if(Xe!==5)return!1;var e=Gn,n=qr;qr=0;var o=as(mn),s=V.T,d=J.p;try{J.p=32>o?32:o,V.T=null,o=zr,zr=null;var m=Gn,T=mn;if(Xe=0,Ji=Gn=null,mn=0,(Ce&6)!==0)throw Error(a(331));var _=Ce;if(Ce|=4,Od(m.current),Bd(m,m.current,T,o),Ce=_,Xo(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(co,m)}catch{}return!0}finally{J.p=d,V.T=s,sp(e,n)}}function up(e,n,o){n=Dt(o,n),n=yr(e.stateNode,n,2),e=xn(e,n,2),e!==null&&(po(e,2),Zt(e))}function Ne(e,n,o){if(e.tag===3)up(e,e,o);else for(;n!==null;){if(n.tag===3){up(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ln===null||!Ln.has(s))){e=Dt(o,e),o=cd(2),s=xn(n,o,2),s!==null&&(fd(o,s,n,e),po(s,2),Zt(s));break}}n=n.return}}function Or(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new Tv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(Gr=!0,d.add(o),e=Cv.bind(null,e,n,o),n.then(e,e))}function Cv(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ue===e&&(ge&o)===o&&(qe===4||qe===3&&(ge&62914560)===ge&&300>Tt()-la?(Ce&2)===0&&Xi(e,0):Hr|=o,Yi===ge&&(Yi=0)),Zt(e)}function cp(e,n){n===0&&(n=ic()),e=Wn(e,n),e!==null&&(po(e,n),Zt(e))}function Rv(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),cp(e,o)}function Mv(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),cp(e,o)}function Nv(e,n){return ns(e,n)}var da=null,Qi=null,Fr=!1,pa=!1,Yr=!1,Vn=0;function Zt(e){e!==Qi&&e.next===null&&(Qi===null?da=Qi=e:Qi=Qi.next=e),pa=!0,Fr||(Fr=!0,wv())}function Xo(e,n){if(!Yr&&pa){Yr=!0;do for(var o=!1,s=da;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Et(42|e)+1)-1,m&=d&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,mp(s,m))}else m=ge,m=vl(s,s===Ue?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||fo(s,m)||(o=!0,mp(s,m));s=s.next}while(o);Yr=!1}}function xv(){fp()}function fp(){pa=Fr=!1;var e=0;Vn!==0&&zv()&&(e=Vn);for(var n=Tt(),o=null,s=da;s!==null;){var d=s.next,m=dp(s,n);m===0?(s.next=null,o===null?da=d:o.next=d,d===null&&(Qi=o)):(o=s,(e!==0||(m&3)!==0)&&(pa=!0)),s=d}Xe!==0&&Xe!==5||Xo(e),Vn!==0&&(Vn=0)}function dp(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-Et(m),_=1<<T,C=d[T];C===-1?((_&o)===0||(_&s)!==0)&&(d[T]=t0(_,n)):C<=n&&(e.expiredLanes|=_),m&=~_}if(n=Ue,o=ge,o=vl(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&is(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||fo(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&is(s),as(o)){case 2:case 8:o=tc;break;case 32:o=pl;break;case 268435456:o=nc;break;default:o=pl}return s=pp.bind(null,e),o=ns(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&is(s),e.callbackPriority=2,e.callbackNode=null,2}function pp(e,n){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(fa()&&e.callbackNode!==o)return null;var s=ge;return s=vl(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Kd(e,s,n),dp(e,Tt()),e.callbackNode!=null&&e.callbackNode===o?pp.bind(null,e):null)}function mp(e,n){if(fa())return null;Kd(e,n,!0)}function wv(){Pv(function(){(Ce&6)!==0?ns(ec,xv):fp()})}function Jr(){if(Vn===0){var e=Li;e===0&&(e=ml,ml<<=1,(ml&261888)===0&&(ml=256)),Vn=e}return Vn}function hp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:El(""+e)}function gp(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function bv(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var m=hp((d[dt]||null).action),T=s.submitter;T&&(n=(n=T[dt]||null)?hp(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new Rl("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vn!==0){var C=T?gp(d,T):new FormData(d);dr(o,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(_.preventDefault(),C=T?gp(d,T):new FormData(d),dr(o,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var Xr=0;Xr<ws.length;Xr++){var Kr=ws[Xr],Iv=Kr.toLowerCase(),Dv=Kr[0].toUpperCase()+Kr.slice(1);Pt(Iv,"on"+Dv)}Pt(Jc,"onAnimationEnd"),Pt(Xc,"onAnimationIteration"),Pt(Kc,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(K0,"onTransitionRun"),Pt(Q0,"onTransitionStart"),Pt(Z0,"onTransitionCancel"),Pt(Qc,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function vp(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],C=_.instance,b=_.currentTarget;if(_=_.listener,C!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=b;try{m(d)}catch(q){xl(q)}d.currentTarget=null,m=C}else for(T=0;T<s.length;T++){if(_=s[T],C=_.instance,b=_.currentTarget,_=_.listener,C!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=b;try{m(d)}catch(q){xl(q)}d.currentTarget=null,m=C}}}}function he(e,n){var o=n[ss];o===void 0&&(o=n[ss]=new Set);var s=e+"__bubble";o.has(s)||(yp(n,e,2,!1),o.add(s))}function Qr(e,n,o){var s=0;n&&(s|=4),yp(o,e,s,n)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[ma]){e[ma]=!0,cc.forEach(function(o){o!=="selectionchange"&&(Uv.has(o)||Qr(o,!1,e),Qr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ma]||(n[ma]=!0,Qr("selectionchange",!1,n))}}function yp(e,n,o,s){switch(Xp(n)){case 2:var d=sy;break;case 8:d=ry;break;default:d=fu}o=d.bind(null,n,o,e),d=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function $r(e,n,o,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=s.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=vi(_),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){s=m=T;continue e}_=_.parentNode}}s=s.return}_c(function(){var b=m,q=ms(o),B=[];e:{var U=Zc.get(e);if(U!==void 0){var H=Rl,Z=e;switch(e){case"keypress":if(Al(o)===0)break e;case"keydown":case"keyup":H=M0;break;case"focusin":Z="focus",H=Ss;break;case"focusout":Z="blur",H=Ss;break;case"beforeblur":case"afterblur":H=Ss;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=w0;break;case Jc:case Xc:case Kc:H=v0;break;case Qc:H=I0;break;case"scroll":case"scrollend":H=d0;break;case"wheel":H=U0;break;case"copy":case"cut":case"paste":H=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Nc;break;case"toggle":case"beforetoggle":H=G0}var ie=(n&4)!==0,Ie=!ie&&(e==="scroll"||e==="scrollend"),x=ie?U!==null?U+"Capture":null:U;ie=[];for(var R=b,w;R!==null;){var z=R;if(w=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||w===null||x===null||(z=go(R,x),z!=null&&ie.push(Qo(R,z,w))),Ie)break;R=R.return}0<ie.length&&(U=new H(U,Z,null,o,q),B.push({event:U,listeners:ie}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",U&&o!==ps&&(Z=o.relatedTarget||o.fromElement)&&(vi(Z)||Z[gi]))break e;if((H||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,H?(Z=o.relatedTarget||o.toElement,H=b,Z=Z?vi(Z):null,Z!==null&&(Ie=f(Z),ie=Z.tag,Z!==Ie||ie!==5&&ie!==27&&ie!==6)&&(Z=null)):(H=null,Z=b),H!==Z)){if(ie=Rc,z="onMouseLeave",x="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Nc,z="onPointerLeave",x="onPointerEnter",R="pointer"),Ie=H==null?U:ho(H),w=Z==null?U:ho(Z),U=new ie(z,R+"leave",H,o,q),U.target=Ie,U.relatedTarget=w,z=null,vi(q)===b&&(ie=new ie(x,R+"enter",Z,o,q),ie.target=w,ie.relatedTarget=Ie,z=ie),Ie=z,H&&Z)t:{for(ie=Lv,x=H,R=Z,w=0,z=x;z;z=ie(z))w++;z=0;for(var ne=R;ne;ne=ie(ne))z++;for(;0<w-z;)x=ie(x),w--;for(;0<z-w;)R=ie(R),z--;for(;w--;){if(x===R||R!==null&&x===R.alternate){ie=x;break t}x=ie(x),R=ie(R)}ie=null}else ie=null;H!==null&&Tp(B,U,H,ie,!1),Z!==null&&Ie!==null&&Tp(B,Ie,Z,ie,!0)}}e:{if(U=b?ho(b):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var Se=Gc;else if(Uc(U))if(Hc)Se=Y0;else{Se=O0;var ee=k0}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?b&&ds(b.elementType)&&(Se=Gc):Se=F0;if(Se&&(Se=Se(e,b))){Lc(B,Se,o,q);break e}ee&&ee(e,U,b),e==="focusout"&&b&&U.type==="number"&&b.memoizedProps.value!=null&&fs(U,"number",U.value)}switch(ee=b?ho(b):window,e){case"focusin":(Uc(ee)||ee.contentEditable==="true")&&(Mi=ee,Ms=b,Co=null);break;case"focusout":Co=Ms=Mi=null;break;case"mousedown":Ns=!0;break;case"contextmenu":case"mouseup":case"dragend":Ns=!1,Fc(B,o,q);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":Fc(B,o,q)}var ce;if(_s)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ri?Ic(e,o)&&(ve="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(xc&&o.locale!=="ko"&&(Ri||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ri&&(ce=Ac()):(En=q,vs="value"in En?En.value:En.textContent,Ri=!0)),ee=ha(b,ve),0<ee.length&&(ve=new Mc(ve,e,null,o,q),B.push({event:ve,listeners:ee}),ce?ve.data=ce:(ce=Dc(o),ce!==null&&(ve.data=ce)))),(ce=V0?q0(e,o):z0(e,o))&&(ve=ha(b,"onBeforeInput"),0<ve.length&&(ee=new Mc("onBeforeInput","beforeinput",null,o,q),B.push({event:ee,listeners:ve}),ee.data=ce)),bv(B,e,b,o,q)}vp(B,n)})}function Qo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function ha(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=go(e,o),d!=null&&s.unshift(Qo(e,d,m)),d=go(e,n),d!=null&&s.push(Qo(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Lv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tp(e,n,o,s,d){for(var m=n._reactName,T=[];o!==null&&o!==s;){var _=o,C=_.alternate,b=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||b===null||(C=b,d?(b=go(o,m),b!=null&&T.unshift(Qo(o,b,C))):d||(b=go(o,m),b!=null&&T.push(Qo(o,b,C)))),o=o.return}T.length!==0&&e.push({event:n,listeners:T})}var Gv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function Sp(e){return(typeof e=="string"?e:""+e).replace(Gv,`
`).replace(Hv,"")}function Ep(e,n){return n=Sp(n),Sp(e)===n}function be(e,n,o,s,d,m){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||_i(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&_i(e,""+s);break;case"className":Tl(e,"class",s);break;case"tabIndex":Tl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(e,o,s);break;case"style":Sc(e,s,m);break;case"data":if(n!=="object"){Tl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=El(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&be(e,n,"name",d.name,d,null),be(e,n,"formEncType",d.formEncType,d,null),be(e,n,"formMethod",d.formMethod,d,null),be(e,n,"formTarget",d.formTarget,d,null)):(be(e,n,"encType",d.encType,d,null),be(e,n,"method",d.method,d,null),be(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=El(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=Wt);break;case"onScroll":s!=null&&he("scroll",e);break;case"onScrollEnd":s!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=El(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":he("beforetoggle",e),he("toggle",e),yl(e,"popover",s);break;case"xlinkActuate":$t(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":$t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":$t(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":$t(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":$t(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":$t(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":$t(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":$t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":$t(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":yl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=c0.get(o)||o,yl(e,o,s))}}function Wr(e,n,o,s,d,m){switch(o){case"style":Sc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?_i(e,s):(typeof s=="number"||typeof s=="bigint")&&_i(e,""+s);break;case"onScroll":s!=null&&he("scroll",e);break;case"onScrollEnd":s!=null&&he("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),m=e[dt]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):yl(e,o,s)}}}function tt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var s=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:be(e,n,m,T,o,null)}}d&&be(e,n,"srcSet",o.srcSet,o,null),s&&be(e,n,"src",o.src,o,null);return;case"input":he("invalid",e);var _=m=T=d=null,C=null,b=null;for(s in o)if(o.hasOwnProperty(s)){var q=o[s];if(q!=null)switch(s){case"name":d=q;break;case"type":T=q;break;case"checked":C=q;break;case"defaultChecked":b=q;break;case"value":m=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:be(e,n,s,q,o,null)}}gc(e,m,_,C,b,T,d,!1);return;case"select":he("invalid",e),s=T=m=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:be(e,n,d,_,o,null)}n=m,o=T,e.multiple=!!s,n!=null?Ei(e,!!s,n,!1):o!=null&&Ei(e,!!s,o,!0);return;case"textarea":he("invalid",e),m=d=s=null;for(T in o)if(o.hasOwnProperty(T)&&(_=o[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:be(e,n,T,_,o,null)}yc(e,s,d,m);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(s=o[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:be(e,n,C,s,o,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(s=0;s<Ko.length;s++)he(Ko[s],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in o)if(o.hasOwnProperty(b)&&(s=o[b],s!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:be(e,n,b,s,o,null)}return;default:if(ds(n)){for(q in o)o.hasOwnProperty(q)&&(s=o[q],s!==void 0&&Wr(e,n,q,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&be(e,n,_,s,o,null))}function Vv(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,_=null,C=null,b=null,q=null;for(H in o){var B=o[H];if(o.hasOwnProperty(H)&&B!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=B;default:s.hasOwnProperty(H)||be(e,n,H,null,s,B)}}for(var U in s){var H=s[U];if(B=o[U],s.hasOwnProperty(U)&&(H!=null||B!=null))switch(U){case"type":m=H;break;case"name":d=H;break;case"checked":b=H;break;case"defaultChecked":q=H;break;case"value":T=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==B&&be(e,n,U,H,s,B)}}cs(e,T,_,C,b,q,m,d);return;case"select":H=T=_=U=null;for(m in o)if(C=o[m],o.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":H=C;default:s.hasOwnProperty(m)||be(e,n,m,null,s,C)}for(d in s)if(m=s[d],C=o[d],s.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":U=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==C&&be(e,n,d,m,s,C)}n=_,o=T,s=H,U!=null?Ei(e,!!o,U,!1):!!s!=!!o&&(n!=null?Ei(e,!!o,n,!0):Ei(e,!!o,o?[]:"",!1));return;case"textarea":H=U=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:be(e,n,_,null,s,d)}for(T in s)if(d=s[T],m=o[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":U=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&be(e,n,T,d,s,m)}vc(e,U,H);return;case"option":for(var Z in o)if(U=o[Z],o.hasOwnProperty(Z)&&U!=null&&!s.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:be(e,n,Z,null,s,U)}for(C in s)if(U=s[C],H=o[C],s.hasOwnProperty(C)&&U!==H&&(U!=null||H!=null))switch(C){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:be(e,n,C,U,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in o)U=o[ie],o.hasOwnProperty(ie)&&U!=null&&!s.hasOwnProperty(ie)&&be(e,n,ie,null,s,U);for(b in s)if(U=s[b],H=o[b],s.hasOwnProperty(b)&&U!==H&&(U!=null||H!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:be(e,n,b,U,s,H)}return;default:if(ds(n)){for(var Ie in o)U=o[Ie],o.hasOwnProperty(Ie)&&U!==void 0&&!s.hasOwnProperty(Ie)&&Wr(e,n,Ie,void 0,s,U);for(q in s)U=s[q],H=o[q],!s.hasOwnProperty(q)||U===H||U===void 0&&H===void 0||Wr(e,n,q,U,s,H);return}}for(var x in o)U=o[x],o.hasOwnProperty(x)&&U!=null&&!s.hasOwnProperty(x)&&be(e,n,x,null,s,U);for(B in s)U=s[B],H=o[B],!s.hasOwnProperty(B)||U===H||U==null&&H==null||be(e,n,B,U,s,H)}function _p(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],m=d.transferSize,T=d.initiatorType,_=d.duration;if(m&&_&&_p(T)){for(T=0,_=d.responseEnd,s+=1;s<o.length;s++){var C=o[s],b=C.startTime;if(b>_)break;var q=C.transferSize,B=C.initiatorType;q&&_p(B)&&(C=C.responseEnd,T+=q*(C<_?1:(_-b)/(C-b)))}if(--s,n+=8*(m+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jr=null,eu=null;function ga(e){return e.nodeType===9?e:e.ownerDocument}function Ap(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function tu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nu=null;function zv(){var e=window.event;return e&&e.type==="popstate"?e===nu?!1:(nu=e,!0):(nu=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,Bv=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,Pv=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(kv)}:Rp;function kv(e){setTimeout(function(){throw e})}function qn(e){return e==="head"}function Np(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),ji(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Zo(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Zo(o);for(var m=o.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[mo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&Zo(e.ownerDocument.body);o=d}while(o);ji(n)}function xp(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function iu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":iu(o),rs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Ov(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[mo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Fv(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Vt(e.nextSibling),e===null))return null;return e}function wp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function ou(e){return e.data==="$?"||e.data==="$~"}function lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yv(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var au=null;function bp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Vt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Ip(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Dp(e,n,o){switch(n=ga(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Zo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);rs(e)}var qt=new Map,Up=new Set;function va(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hn=J.d;J.d={f:Jv,r:Xv,D:Kv,C:Qv,L:Zv,m:$v,X:jv,S:Wv,M:ey};function Jv(){var e=hn.f(),n=ra();return e||n}function Xv(e){var n=yi(e);n!==null&&n.tag===5&&n.type==="form"?Zf(n):hn.r(e)}var Zi=typeof document>"u"?null:document;function Lp(e,n,o){var s=Zi;if(s&&typeof n=="string"&&n){var d=bt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Up.has(d)||(Up.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),tt(n,"link",e),Ke(n),s.head.appendChild(n)))}}function Kv(e){hn.D(e),Lp("dns-prefetch",e,null)}function Qv(e,n){hn.C(e,n),Lp("preconnect",e,n)}function Zv(e,n,o){hn.L(e,n,o);var s=Zi;if(s&&e&&n){var d='link[rel="preload"][as="'+bt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+bt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+bt(o.imageSizes)+'"]')):d+='[href="'+bt(e)+'"]';var m=d;switch(n){case"style":m=$i(e);break;case"script":m=Wi(e)}qt.has(m)||(e=S({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),qt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector($o(m))||n==="script"&&s.querySelector(Wo(m))||(n=s.createElement("link"),tt(n,"link",e),Ke(n),s.head.appendChild(n)))}}function $v(e,n){hn.m(e,n);var o=Zi;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+bt(s)+'"][href="'+bt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Wi(e)}if(!qt.has(m)&&(e=S({rel:"modulepreload",href:e},n),qt.set(m,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wo(m)))return}s=o.createElement("link"),tt(s,"link",e),Ke(s),o.head.appendChild(s)}}}function Wv(e,n,o){hn.S(e,n,o);var s=Zi;if(s&&e){var d=Ti(s).hoistableStyles,m=$i(e);n=n||"default";var T=d.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector($o(m)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},o),(o=qt.get(m))&&su(e,o);var C=T=s.createElement("link");Ke(C),tt(C,"link",e),C._p=new Promise(function(b,q){C.onload=b,C.onerror=q}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ya(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(m,T)}}}function jv(e,n){hn.X(e,n);var o=Zi;if(o&&e){var s=Ti(o).hoistableScripts,d=Wi(e),m=s.get(d);m||(m=o.querySelector(Wo(d)),m||(e=S({src:e,async:!0},n),(n=qt.get(d))&&ru(e,n),m=o.createElement("script"),Ke(m),tt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function ey(e,n){hn.M(e,n);var o=Zi;if(o&&e){var s=Ti(o).hoistableScripts,d=Wi(e),m=s.get(d);m||(m=o.querySelector(Wo(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=qt.get(d))&&ru(e,n),m=o.createElement("script"),Ke(m),tt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Gp(e,n,o,s){var d=(d=pe.current)?va(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=$i(o.href),o=Ti(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=$i(o.href);var m=Ti(d).hoistableStyles,T=m.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=d.querySelector($o(e)))&&!m._p&&(T.instance=m,T.state.loading=5),qt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qt.set(e,o),m||ty(d,e,o,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wi(o),o=Ti(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $i(e){return'href="'+bt(e)+'"'}function $o(e){return'link[rel="stylesheet"]['+e+"]"}function Hp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ty(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),tt(n,"link",o),Ke(n),e.head.appendChild(n))}function Wi(e){return'[src="'+bt(e)+'"]'}function Wo(e){return"script[async]"+e}function Vp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+bt(o.href)+'"]');if(s)return n.instance=s,Ke(s),s;var d=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ke(s),tt(s,"style",d),ya(s,o.precedence,e),n.instance=s;case"stylesheet":d=$i(o.href);var m=e.querySelector($o(d));if(m)return n.state.loading|=4,n.instance=m,Ke(m),m;s=Hp(o),(d=qt.get(d))&&su(s,d),m=(e.ownerDocument||e).createElement("link"),Ke(m);var T=m;return T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),tt(m,"link",s),n.state.loading|=4,ya(m,o.precedence,e),n.instance=m;case"script":return m=Wi(o.src),(d=e.querySelector(Wo(m)))?(n.instance=d,Ke(d),d):(s=o,(d=qt.get(m))&&(s=S({},o),ru(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ke(d),tt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ya(s,o.precedence,e));return n.instance}function ya(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function su(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ru(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ta=null;function qp(e,n,o){if(Ta===null){var s=new Map,d=Ta=new Map;d.set(o,s)}else d=Ta,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var m=o[d];if(!(m[mo]||m[$e]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function zp(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function ny(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iy(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=$i(s.href),m=n.querySelector($o(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Sa.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=m,Ke(m);return}m=n.ownerDocument||n,s=Hp(s),(d=qt.get(d))&&su(s,d),m=m.createElement("link"),Ke(m);var T=m;T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),tt(m,"link",s),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Sa.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var uu=0;function oy(e,n){return e.stylesheets&&e.count===0&&_a(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&_a(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&uu===0&&(uu=62500*qv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_a(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>uu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Sa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_a(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ea=null;function _a(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ea=new Map,n.forEach(ly,e),Ea=null,Sa.call(e))}function ly(e,n){if(!(n.state.loading&4)){var o=Ea.get(e);if(o)var s=o.get(null);else{o=new Map,Ea.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),s=T)}s&&o.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),m=o.get(T)||s,m===s&&o.set(null,d),o.set(T,d),this.count++,s=Sa.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var jo={$$typeof:O,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function ay(e,n,o,s,d,m,T,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.hiddenUpdates=os(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Pp(e,n,o,s,d,m,T,_,C,b,q,B){return e=new ay(e,n,o,T,C,b,q,B,_),n=1,m===!0&&(n|=24),m=At(3,null,null,n),e.current=m,m.stateNode=e,n=ks(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:o,cache:n},Js(m),e}function kp(e){return e?(e=wi,e):wi}function Op(e,n,o,s,d,m){d=kp(d),s.context===null?s.context=d:s.pendingContext=d,s=Nn(n),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=xn(e,s,n),o!==null&&(yt(o,e,n),Io(o,e,n))}function Fp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function cu(e,n){Fp(e,n),(e=e.alternate)&&Fp(e,n)}function Yp(e){if(e.tag===13||e.tag===31){var n=Wn(e,67108864);n!==null&&yt(n,e,67108864),cu(e,67108864)}}function Jp(e){if(e.tag===13||e.tag===31){var n=xt();n=ls(n);var o=Wn(e,n);o!==null&&yt(o,e,n),cu(e,n)}}var Aa=!0;function sy(e,n,o,s){var d=V.T;V.T=null;var m=J.p;try{J.p=2,fu(e,n,o,s)}finally{J.p=m,V.T=d}}function ry(e,n,o,s){var d=V.T;V.T=null;var m=J.p;try{J.p=8,fu(e,n,o,s)}finally{J.p=m,V.T=d}}function fu(e,n,o,s){if(Aa){var d=du(s);if(d===null)$r(e,n,s,Ca,o),Kp(e,s);else if(cy(d,e,n,o,s))s.stopPropagation();else if(Kp(e,s),n&4&&-1<uy.indexOf(e)){for(;d!==null;){var m=yi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Xn(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var C=1<<31-Et(T);_.entanglements[1]|=C,T&=~C}Zt(m),(Ce&6)===0&&(aa=Tt()+500,Xo(0))}}break;case 31:case 13:_=Wn(m,2),_!==null&&yt(_,m,2),ra(),cu(m,2)}if(m=du(s),m===null&&$r(e,n,s,Ca,o),m===d)break;d=m}d!==null&&s.stopPropagation()}else $r(e,n,s,null,o)}}function du(e){return e=ms(e),pu(e)}var Ca=null;function pu(e){if(Ca=null,e=vi(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ca=e,null}function Xp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kg()){case ec:return 2;case tc:return 8;case pl:case Qg:return 32;case nc:return 268435456;default:return 32}default:return 32}}var mu=!1,zn=null,Bn=null,Pn=null,el=new Map,tl=new Map,kn=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(e,n){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":el.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(n.pointerId)}}function nl(e,n,o,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=yi(n),n!==null&&Yp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function cy(e,n,o,s,d){switch(n){case"focusin":return zn=nl(zn,e,n,o,s,d),!0;case"dragenter":return Bn=nl(Bn,e,n,o,s,d),!0;case"mouseover":return Pn=nl(Pn,e,n,o,s,d),!0;case"pointerover":var m=d.pointerId;return el.set(m,nl(el.get(m)||null,e,n,o,s,d)),!0;case"gotpointercapture":return m=d.pointerId,tl.set(m,nl(tl.get(m)||null,e,n,o,s,d)),!0}return!1}function Qp(e){var n=vi(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,rc(e.priority,function(){Jp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,rc(e.priority,function(){Jp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=du(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);ps=s,o.target.dispatchEvent(s),ps=null}else return n=yi(o),n!==null&&Yp(n),e.blockedOn=o,!1;n.shift()}return!0}function Zp(e,n,o){Ra(e)&&o.delete(n)}function fy(){mu=!1,zn!==null&&Ra(zn)&&(zn=null),Bn!==null&&Ra(Bn)&&(Bn=null),Pn!==null&&Ra(Pn)&&(Pn=null),el.forEach(Zp),tl.forEach(Zp)}function Ma(e,n){e.blockedOn===n&&(e.blockedOn=null,mu||(mu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fy)))}var Na=null;function $p(e){Na!==e&&(Na=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Na===e&&(Na=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(pu(s||o)===null)continue;break}var m=yi(o);m!==null&&(e.splice(n,3),n-=3,dr(m,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function ji(e){function n(C){return Ma(C,e)}zn!==null&&Ma(zn,e),Bn!==null&&Ma(Bn,e),Pn!==null&&Ma(Pn,e),el.forEach(n),tl.forEach(n);for(var o=0;o<kn.length;o++){var s=kn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<kn.length&&(o=kn[0],o.blockedOn===null);)Qp(o),o.blockedOn===null&&kn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],m=o[s+1],T=d[dt]||null;if(typeof m=="function")T||$p(o);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[dt]||null)_=T.formAction;else if(pu(d)!==null)continue}else _=T.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),$p(o)}}}function Wp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function hu(e){this._internalRoot=e}xa.prototype.render=hu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=xt();Op(o,s,e,n,null,null)},xa.prototype.unmount=hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Op(e.current,2,null,e,null,null),ra(),n[gi]=null}};function xa(e){this._internalRoot=e}xa.prototype.unstable_scheduleHydration=function(e){if(e){var n=sc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<kn.length&&n!==0&&n<kn[o].priority;o++);kn.splice(o,0,e),o===0&&Qp(e)}};var jp=t.version;if(jp!=="19.2.3")throw Error(a(527,jp,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var dy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{co=wa.inject(dy),St=wa}catch{}}return ol.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=ad,m=sd,T=rd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Pp(e,1,!1,null,null,o,s,null,d,m,T,Wp),e[gi]=n.current,Zr(e),new hu(n)},ol.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",m=ad,T=sd,_=rd,C=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),n=Pp(e,1,!0,n,o??null,s,d,C,m,T,_,Wp),n.context=kp(null),o=n.current,s=xt(),s=ls(s),d=Nn(s),d.callback=null,xn(o,d,s),o=s,n.current.lanes=o,po(n,o),Zt(n),e[gi]=n.current,Zr(e),new xa(n)},ol.version="19.2.3",ol}var um;function Ny(){if(um)return Tu.exports;um=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Tu.exports=My(),Tu.exports}var xy=Ny();const wy=Xh(xy);var it=(i=>(i.ADMIN="ADMIN",i.USER="USER",i.UNSET="UNSET",i))(it||{});const by={apiKey:"AIzaSyA1dOqowN6zPTIrk4A-7ckTl325bQgVGyI",authDomain:"aminedotink.firebaseapp.com",databaseURL:"https://aminedotink-default-rtdb.firebaseio.com",projectId:"aminedotink",storageBucket:"aminedotink.firebasestorage.app",messagingSenderId:"154560363228",appId:"1:154560363228:web:2ba52359d1882bdcc45219",measurementId:"G-Q16P2VMRVG"},Iy=my(by),ut=hy(Iy),lo=rt(ut,"currentSession"),Kh=rt(ut,"submissions"),za=rt(ut,"chat");rt(ut,"presence");const Dy=rt(ut,"locks/admin"),Uy=rt(ut,"locks/user"),Ly=rt(ut,"config"),Gy=(i,t)=>{const l=rt(ut,`presence/${i}`),a=rt(ut,`submissions/${i}`),r=rt(ut,`locks/${t.toLowerCase()}`);gu(l).remove(),gu(a).remove(),gu(r).remove(),pi(l,!0),pi(r,i)},Hy=async(i,t)=>{const l=rt(ut,`locks/${i.toLowerCase()}`),a=await Bu(l);return a.exists()&&a.val()!==t?!1:(await pi(l,t),!0)},Vy=async i=>{await pi(rt(ut,"config/customPrompt"),i)},qy=async(i,t)=>{await pi(lo,{sentence:i,referenceAudios:{},timestamp:Date.now(),language:t,isAudioLoading:!1})},ba=async i=>{await Jh(lo,{isAudioLoading:i})},cm=async(i,t)=>{if(!(await Bu(lo)).exists())return;const a={};a[`currentSession/referenceAudios/${i}`]=t,a["currentSession/isAudioLoading"]=!1,await Jh(rt(ut),a)},zy=async i=>{const t=rt(ut,`submissions/${i.userId}`);await pi(t,i)},By=async()=>{await Ha(lo),await Ha(Kh),await Ha(za)},fm=async i=>{const t=gy(za);await pi(t,{...i,timestamp:vy()});const l=await Bu(za);if(l.exists()){const a=l.val(),r=Object.keys(a).sort((f,p)=>a[f].timestamp-a[p].timestamp);if(r.length>15){const f=r.slice(0,r.length-15);for(const p of f)await Ha(rt(ut,`chat/${p}`))}}},Py=({onLogin:i})=>{const[t,l]=fe.useState(it.UNSET),[a,r]=fe.useState(""),[f,p]=fe.useState(""),[g,v]=fe.useState(""),[h,y]=fe.useState(!1),[S,E]=fe.useState(!1);fe.useEffect(()=>{const L=mi(Dy,k=>y(k.exists())),G=mi(Uy,k=>E(k.exists()));return()=>{L(),G()}},[]);const A=L=>{if(L.preventDefault(),h){v("Admin role is already occupied");return}a==="4332"?i(it.ADMIN,"Amine"):v("Invalid Admin PIN")},I=L=>{if(L.preventDefault(),S){v("User role is already occupied");return}if(!f.trim()){v("Please enter a nickname");return}i(it.USER,f)};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4",children:N.jsxs("div",{className:"bg-slate-800 p-8 rounded-3xl shadow-2xl border border-slate-700 w-full max-w-md",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("h1",{className:"text-4xl font-black mb-2 text-white",children:"Pronunciation Pro"}),N.jsx("p",{className:"text-slate-400",children:"Select your role to continue"})]}),t===it.UNSET?N.jsxs("div",{className:"flex flex-col gap-4",children:[N.jsxs("button",{onClick:()=>l(it.ADMIN),disabled:h,className:`group p-6 bg-slate-700 transition-all rounded-2xl border-2 border-transparent text-left relative overflow-hidden ${h?"opacity-50 cursor-not-allowed grayscale":"hover:bg-red-600 hover:border-red-400"}`,children:[N.jsx("h3",{className:"text-xl font-bold text-white group-hover:scale-105 transition-transform",children:" Admin"}),N.jsx("p",{className:"text-slate-400 group-hover:text-red-100",children:h?"Role Taken by another user":"Generate sentences & manage session"}),h&&N.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-[10px] px-2 py-0.5 rounded text-white font-bold uppercase",children:"Locked"})]}),N.jsxs("button",{onClick:()=>l(it.USER),disabled:S,className:`group p-6 bg-slate-700 transition-all rounded-2xl border-2 border-transparent text-left relative overflow-hidden ${S?"opacity-50 cursor-not-allowed grayscale":"hover:bg-blue-600 hover:border-blue-400"}`,children:[N.jsx("h3",{className:"text-xl font-bold text-white group-hover:scale-105 transition-transform",children:" User"}),N.jsx("p",{className:"text-slate-400 group-hover:text-blue-100",children:S?"Role Taken by another user":"Practice speaking & view feedback"}),S&&N.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-[10px] px-2 py-0.5 rounded text-white font-bold uppercase",children:"Locked"})]})]}):t===it.ADMIN?N.jsxs("form",{onSubmit:A,className:"flex flex-col gap-4",children:[N.jsxs("div",{className:"text-center mb-2",children:[N.jsx("span",{className:"text-slate-400 text-sm",children:"Logging in as "}),N.jsx("span",{className:"text-red-400 font-bold",children:"Amine"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Admin PIN"}),N.jsx("input",{type:"password",value:a,onChange:L=>r(L.target.value),placeholder:"Enter 4-digit PIN",maxLength:4,required:!0,autoFocus:!0,className:"w-full bg-slate-700 border border-slate-600 p-3 rounded-xl focus:ring-2 ring-red-500 outline-none text-white text-center text-2xl tracking-widest"})]}),g&&N.jsx("p",{className:"text-red-400 text-sm font-bold text-center",children:g}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{type:"button",onClick:()=>l(it.UNSET),className:"flex-1 bg-slate-700 p-3 rounded-xl hover:bg-slate-600 transition-colors",children:"Back"}),N.jsx("button",{type:"submit",className:"flex-[2] bg-red-600 p-3 rounded-xl hover:bg-red-500 transition-colors font-bold",children:"Unlock Admin"})]})]}):N.jsxs("form",{onSubmit:I,className:"flex flex-col gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Your Nickname"}),N.jsx("input",{type:"text",value:f,onChange:L=>{p(L.target.value),v("")},placeholder:"Enter your name...",required:!0,autoFocus:!0,className:"w-full bg-slate-700 border border-slate-600 p-3 rounded-xl focus:ring-2 ring-blue-500 outline-none text-white"})]}),g&&N.jsx("p",{className:"text-red-400 text-sm font-bold text-center",children:g}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{type:"button",onClick:()=>l(it.UNSET),className:"flex-1 bg-slate-700 p-3 rounded-xl hover:bg-slate-600 transition-colors",children:"Back"}),N.jsx("button",{type:"submit",className:"flex-[2] bg-blue-600 p-3 rounded-xl hover:bg-blue-500 transition-colors font-bold",children:"Start Practicing"})]})]})]})})};var ky={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Oy,Fy;function Yy(){return{geminiUrl:Oy,vertexUrl:Fy}}function Jy(i,t,l,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=Yy();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vn{}function Q(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const v=i[g];if(Array.isArray(l))for(let h=0;h<v.length;h++){const y=v[h];c(y,t.slice(f+1),l[h])}else for(const h of v)c(h,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const v=i[g];c(v[0],t.slice(f+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function Xy(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),p=new Set;let g=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){g=v;break}if(g!==-1&&f.length>g)for(let v=g;v<f.length;v++){const h=f[v];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Ru(i,r,f,0,p)}}function Ru(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const v of g[p])Ru(v,t,l,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),v={};for(const h of g)v[h]=p[h];for(const[h,y]of Object.entries(v)){const S=[];for(const E of l.slice(a))E==="*"?S.push(h):S.push(E);c(p,S,y)}for(const h of g)delete p[h]}}else{const p=i;f in p&&Ru(p[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ku(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ky(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function Qy(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],$y(p)),t}function Zy(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Wy(p)),t}function $y(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>jy(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Wy(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>eT(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function jy(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],aT(l)),t}function eT(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],sT(l)),t}function tT(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function nT(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function iT(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],oT(p)),t}function oT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Qh(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],lT(p)),t}function lT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function aT(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],ku(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function sT(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],ku(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dm||(dm={}));var pm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(pm||(pm={}));var mm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(mm||(mm={}));var Fn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Fn||(Fn={}));var hm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(hm||(hm={}));var gm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gm||(gm={}));var vm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(vm||(vm={}));var ym;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ym||(ym={}));var Tm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Tm||(Tm={}));var Sm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Sm||(Sm={}));var Em;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Em||(Em={}));var _m;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(_m||(_m={}));var Am;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Am||(Am={}));var Cm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Cm||(Cm={}));var Rm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Rm||(Rm={}));var Mm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mm||(Mm={}));var Nm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Nm||(Nm={}));var xm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(xm||(xm={}));var wm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(wm||(wm={}));var fl;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(fl||(fl={}));var bm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bm||(bm={}));var Im;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Im||(Im={}));var Dm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Dm||(Dm={}));var Mu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mu||(Mu={}));var Um;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Um||(Um={}));var Lm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Lm||(Lm={}));var Gm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Gm||(Gm={}));var Hm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Hm||(Hm={}));var Vm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Vm||(Vm={}));var qm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qm||(qm={}));var zm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(zm||(zm={}));var Bm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Bm||(Bm={}));var Pm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Pm||(Pm={}));var km;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(km||(km={}));var Om;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Om||(Om={}));var Fm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fm||(Fm={}));var Ym;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ym||(Ym={}));var Jm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jm||(Jm={}));var Xm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Xm||(Xm={}));var Km;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Km||(Km={}));var Qm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Qm||(Qm={}));var Zm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Zm||(Zm={}));var $m;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})($m||($m={}));var Wm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Wm||(Wm={}));var jm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(jm||(jm={}));var eh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(eh||(eh={}));var th;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(th||(th={}));var nh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(nh||(nh={}));var ih;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ih||(ih={}));var oh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(oh||(oh={}));var lh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(lh||(lh={}));var ah;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(ah||(ah={}));var sh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sh||(sh={}));var rh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rh||(rh={}));var uh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(uh||(uh={}));var to;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(to||(to={}));class Nu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class ll{get text(){var t,l,a,r,f,p,g,v;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const S=[];for(const E of(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[A,I]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(I!==null||I!==void 0)&&S.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,h+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var t,l,a,r,f,p,g,v;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const S of(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[E,A]of Object.entries(S))E!=="inlineData"&&(A!==null||A!==void 0)&&y.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,f,p,g,v;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,f,p,g,v,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,f,p,g,v,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class ch{}class fh{}class rT{}class uT{}class cT{}class fT{}class dh{}class ph{}class mh{}class dT{}class Ba{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ba;let r;const f=t;return l?r=Zy(f):r=Qy(f),Object.assign(a,r),a}}class hh{}class gh{}class vh{}class yh{}class pT{}class mT{}class hT{}class Ou{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ou,f=iT(t);return Object.assign(a,f),a}}class gT{}class vT{}class yT{}class Th{}class TT{get text(){var t,l,a;let r="",f=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[v,h]of Object.entries(g))v!=="text"&&v!=="thought"&&h!==null&&p.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,v]of Object.entries(p))g!=="inlineData"&&v!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ST{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Fu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Fu,f=Qh(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Zh(i,t){const l=_e(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function $h(i){return Array.isArray(i)?i.map(t=>Pa(t)):[Pa(i)]}function Pa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Wh(i){const t=Pa(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function jh(i){const t=Pa(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Sh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function eg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Sh(t)):[Sh(i)]}function xu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Eh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function _h(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ot(i){if(i==null)throw new Error("ContentUnion is required");return xu(i)?i:{role:"user",parts:eg(i)}}function Yu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=ot(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=ot(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>ot(l)):[ot(t)]}function zt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Eh(i)||_h(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(i)]}const t=[],l=[],a=xu(i[0]);for(const r of i){const f=xu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Eh(r)||_h(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:eg(l)}),t}function ET(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Fn).includes(l[0].toUpperCase())?l[0].toUpperCase():Fn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Fn).includes(a.toUpperCase())?a.toUpperCase():Fn.TYPE_UNSPECIFIED})}}function io(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&ET(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Fn).includes(g.toUpperCase())?g.toUpperCase():Fn.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=io(g);else if(a.includes(p)){const v=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}v.push(io(h))}t[p]=v}else if(r.includes(p)){const v={};for(const[h,y]of Object.entries(g))v[h]=io(y);t[p]=v}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Ju(i){return io(i)}function Xu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Ku(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ao(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=io(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=io(t.response));return i}function so(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function _T(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function yn(i,t){if(typeof t!="string")throw new Error("name must be a string");return _T(i,t,"cachedContents")}function tg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Yn(i){return ku(i)}function AT(i){return i!=null&&typeof i=="object"&&"name"in i}function CT(i){return i!=null&&typeof i=="object"&&"video"in i}function RT(i){return i!=null&&typeof i=="object"&&"uri"in i}function ng(i){var t;let l;if(AT(i)&&(l=i.name),!(RT(i)&&(l=i.uri,l===void 0))&&!(CT(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function ig(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function og(i){for(const t of["models","tunedModels","publisherModels"])if(MT(i,t))return i[t];return[]}function MT(i,t){return i!==null&&typeof i=="object"&&t in i}function NT(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function xT(i,t={}){const l=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=NT(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function lg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function wT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function ag(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const v=p.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ro(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function sg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bT(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>cS(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function IT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function DT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Va(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],sg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const v=u(i,["metadata","model"]);v!=null&&c(t,["model"],v);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],bT(ag(h))),t}function wu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],sg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(t,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const y=u(i,["model"]);y!=null&&c(t,["model"],y);const S=u(i,["inputConfig"]);S!=null&&c(t,["src"],UT(S));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],IT(ag(E)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function UT(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function LT(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>uS(i,p))),c(l,["requests","requests"],f)}return l}function GT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function HT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function VT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ro(i,a)),l}function qT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ro(i,a)),l}function zT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],BT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&c(t,["index"],v);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const y=u(i,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function BT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function rg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>vS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function PT(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function kT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],DT(wT(r))),l}function Ah(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],LT(i,lg(i,r)));const f=u(t,["config"]);return f!=null&&PT(f,l),l}function OT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],GT(lg(i,r)));const f=u(t,["config"]);return f!=null&&kT(f,l),l}function FT(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function YT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],WT(i,r));const f=u(t,["config"]);return f!=null&&FT(f,l),l}function JT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ro(i,a)),l}function XT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ro(i,a)),l}function KT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function QT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function ZT(i,t){const l={},a=u(t,["contents"]);if(a!=null){let f=Yu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],$T(r,l)),Xy(l,{"requests[].*":"requests[].request.*"})),l}function $T(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function WT(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],ZT(i,r)),l}function jT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function eS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tS(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],rg(ot(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const y=u(t,["stopSequences"]);y!=null&&c(a,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const G=u(t,["responseMimeType"]);G!=null&&c(a,["responseMimeType"],G);const k=u(t,["responseSchema"]);k!=null&&c(a,["responseSchema"],Ju(k));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let Te=O;Array.isArray(Te)&&(Te=Te.map(ke=>yS(ke))),c(l,["safetySettings"],Te)}const F=u(t,["tools"]);if(l!==void 0&&F!=null){let Te=so(F);Array.isArray(Te)&&(Te=Te.map(ke=>SS(ao(ke)))),c(l,["tools"],Te)}const $=u(t,["toolConfig"]);if(l!==void 0&&$!=null&&c(l,["toolConfig"],TS($)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(t,["cachedContent"]);l!==void 0&&te!=null&&c(l,["cachedContent"],yn(i,te));const D=u(t,["responseModalities"]);D!=null&&c(a,["responseModalities"],D);const W=u(t,["mediaResolution"]);W!=null&&c(a,["mediaResolution"],W);const Y=u(t,["speechConfig"]);if(Y!=null&&c(a,["speechConfig"],Xu(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(t,["thinkingConfig"]);le!=null&&c(a,["thinkingConfig"],le);const de=u(t,["imageConfig"]);de!=null&&c(a,["imageConfig"],rS(de));const Ae=u(t,["enableEnhancedCivicAnswers"]);return Ae!=null&&c(a,["enableEnhancedCivicAnswers"],Ae),a}function iS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>zT(h))),c(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function oS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ro(i,a)),l}function lS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ro(i,a)),l}function aS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function sS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function rS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function uS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let g=zt(r);Array.isArray(g)&&(g=g.map(v=>rg(v))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],nS(i,p,u(l,["request"],{}))),l}function cS(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],iS(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function fS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function dS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function pS(i){const t={},l=u(i,["config"]);return l!=null&&fS(l,t),t}function mS(i){const t={},l=u(i,["config"]);return l!=null&&dS(l,t),t}function hS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Va(p))),c(t,["batchJobs"],f)}return t}function gS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>wu(p))),c(t,["batchJobs"],f)}return t}function vS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],jT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],eS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],HT(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const y=u(i,["thought"]);y!=null&&c(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function yS(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function TS(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],tS(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function SS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(S=>S)),c(t,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],aS(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],sS(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(gn||(gn={}));class hi{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ES extends vn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new hi(gn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Ah(this.apiClient,t),a=l._url,r=Q("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,v=g.requests,h=[];for(const y of v){const S=Object.assign({},y);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=E,S.request=A}h.push(S)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,t);return g=Q("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>wu(y))}else{const h=Ah(this.apiClient,t);return g=Q("{model}:batchGenerateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>Va(y))}}async createEmbeddingsInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YT(this.apiClient,t);return f=Q("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>Va(v))}}async get(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=lS(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>wu(y))}else{const h=oS(this.apiClient,t);return g=Q("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>Va(y))}}async cancel(t){var l,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const v=qT(this.apiClient,t);p=Q("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const v=VT(this.apiClient,t);p=Q("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=mS(t);return g=Q("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=gS(y),E=new Th;return Object.assign(E,S),E})}else{const h=pS(t);return g=Q("batches",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=hS(y),E=new Th;return Object.assign(E,S),E})}}async delete(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=XT(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>QT(y))}else{const h=JT(this.apiClient,t);return g=Q("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>KT(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ch(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>YS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function AS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let y=zt(p);Array.isArray(y)&&(y=y.map(S=>Ch(S))),c(t,["contents"],y)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Ch(ot(g)));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(S=>XS(S))),c(t,["tools"],y)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],JS(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function CS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=zt(p);Array.isArray(S)&&(S=S.map(E=>E)),c(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ot(g));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>KS(E))),c(t,["tools"],S)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const y=u(i,["kmsKeyName"]);return t!==void 0&&y!=null&&c(t,["encryption_spec","kmsKeyName"],y),l}function RS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Zh(i,a));const r=u(t,["config"]);return r!=null&&AS(r,l),l}function MS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Zh(i,a));const r=u(t,["config"]);return r!=null&&CS(r,l),l}function NS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yn(i,a)),l}function xS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yn(i,a)),l}function wS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function bS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function IS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function DS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function US(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function LS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function GS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yn(i,a)),l}function HS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yn(i,a)),l}function VS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function qS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function zS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function BS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function PS(i){const t={},l=u(i,["config"]);return l!=null&&zS(l,t),t}function kS(i){const t={},l=u(i,["config"]);return l!=null&&BS(l,t),t}function OS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function FS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function YS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],IS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],DS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],_S(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const y=u(i,["thought"]);y!=null&&c(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function JS(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],US(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function XS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(S=>S)),c(t,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],VS(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],qS(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function KS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(E=>LS(E))),c(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const y=u(i,["urlContext"]);return y!=null&&c(t,["urlContext"],y),t}function QS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function ZS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function $S(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&QS(r,l),l}function WS(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],yn(i,a));const r=u(t,["config"]);return r!=null&&ZS(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jS extends vn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new hi(gn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=MS(this.apiClient,t);return g=Q("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const h=RS(this.apiClient,t);return g=Q("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async get(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=HS(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const h=GS(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async delete(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=xS(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=bS(y),E=new vh;return Object.assign(E,S),E})}else{const h=NS(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=wS(y),E=new vh;return Object.assign(E,S),E})}}async update(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=WS(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const h=$S(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async listInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=kS(t);return g=Q("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=FS(y),E=new yh;return Object.assign(E,S),E})}else{const h=PS(t);return g=Q("cachedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=OS(y),E=new yh;return Object.assign(E,S),E})}}}function ka(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Rh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(i){return this instanceof ae?(this.v=i,this):new ae(i)}function Ft(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(I){return Promise.resolve(I).then(A,S)}}function g(A,I){a[A]&&(r[A]=function(L){return new Promise(function(G,k){f.push([A,L,G,k])>1||v(A,L)})},I&&(r[A]=I(r[A])))}function v(A,I){try{h(a[A](I))}catch(L){E(f[0][3],L)}}function h(A){A.value instanceof ae?Promise.resolve(A.value.v).then(y,S):E(f[0][2],A)}function y(A){v("next",A)}function S(A){v("throw",A)}function E(A,I){A(I),f.shift(),f.length&&v(f[0][0],f[0][1])}}function Yt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Rh=="function"?Rh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(p){return new Promise(function(g,v){p=i[f](p),r(g,v,p.done,p.value)})}}function r(f,p,g,v){Promise.resolve(v).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:ug(l)}function ug(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function tE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Mh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),f&&!ug(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class nE{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new iE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}let iE=class{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),tE(f)}async sendMessage(t){var l;await this.sendPromise;const a=ot(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,g;const v=await r,h=(p=(f=v.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,y=v.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];y!=null&&(E=(g=y.slice(S))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=ot(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?Mh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Ft(this,arguments,function*(){var r,f,p,g,v,h;const y=[];try{for(var S=!0,E=Yt(t),A;A=yield ae(E.next()),r=A.done,!r;S=!0){g=A.value,S=!1;const I=g;if(eE(I)){const L=(h=(v=I.candidates)===null||v===void 0?void 0:v[0])===null||h===void 0?void 0:h.content;L!==void 0&&y.push(L)}yield yield ae(I)}}catch(I){f={error:I}}finally{try{!S&&!r&&(p=E.return)&&(yield ae(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(l,y)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Mh(a)):this.history.push(t),this.history.push(...r)}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ya extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ya.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function lE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function aE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],ng(l)),t}function sE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function rE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],ng(l)),t}function uE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function cE(i){const t={},l=u(i,["config"]);return l!=null&&uE(l,t),t}function fE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dE extends vn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new hi(gn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cE(t);return f=Q("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=fE(v),y=new gT;return Object.assign(y,h),y})}}async createInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oE(t);return f=Q("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=lE(v),y=new vT;return Object.assign(y,h),y})}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rE(t);return f=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aE(t);return f=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=sE(v),y=new yT;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qa(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function pE(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>wE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function mE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function hE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function vE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&c(t,["logprobs"],v);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const y=u(i,["mediaResolution"]);y!=null&&c(t,["mediaResolution"],y);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const G=u(i,["routingConfig"]);G!=null&&c(t,["routingConfig"],G);const k=u(i,["seed"]);k!=null&&c(t,["seed"],k);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const F=u(i,["temperature"]);F!=null&&c(t,["temperature"],F);const $=u(i,["thinkingConfig"]);$!=null&&c(t,["thinkingConfig"],$);const te=u(i,["topK"]);te!=null&&c(t,["topK"],te);const D=u(i,["topP"]);if(D!=null&&c(t,["topP"],D),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function yE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function TE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function SE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Ku(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],pE(ot(I)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let te=so(L);Array.isArray(te)&&(te=te.map(D=>IE(ao(D)))),c(t,["setup","tools"],te)}const G=u(i,["sessionResumption"]);t!==void 0&&G!=null&&c(t,["setup","sessionResumption"],bE(G));const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const $=u(i,["proactivity"]);if(t!==void 0&&$!=null&&c(t,["setup","proactivity"],$),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function EE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],vE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Ku(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],ot(I));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let D=so(L);Array.isArray(D)&&(D=D.map(W=>DE(ao(W)))),c(t,["setup","tools"],D)}const G=u(i,["sessionResumption"]);t!==void 0&&G!=null&&c(t,["setup","sessionResumption"],G);const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const $=u(i,["proactivity"]);t!==void 0&&$!=null&&c(t,["setup","proactivity"],$);const te=u(i,["explicitVadSignal"]);return t!==void 0&&te!=null&&c(t,["setup","explicitVadSignal"],te),l}function _E(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],SE(r,l)),l}function AE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],EE(r,l)),l}function CE(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function RE(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function ME(i){const t={},l=u(i,["media"]);if(l!=null){let h=$h(l);Array.isArray(h)&&(h=h.map(y=>qa(y))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],qa(jh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],qa(Wh(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(t,["activityEnd"],v),t}function NE(i){const t={},l=u(i,["media"]);if(l!=null){let h=$h(l);Array.isArray(h)&&(h=h.map(y=>y)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],jh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Wh(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(t,["activityEnd"],v),t}function xE(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],UE(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const v=u(i,["sessionResumptionUpdate"]);v!=null&&c(t,["sessionResumptionUpdate"],v);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function wE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],mE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],hE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],qa(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const y=u(i,["thought"]);y!=null&&c(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function bE(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function IE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(S=>S)),c(t,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],yE(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],TE(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function DE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(E=>gE(E))),c(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const y=u(i,["urlContext"]);return y!=null&&c(t,["urlContext"],y),t}function UE(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const v=u(i,["promptTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(I=>I)),c(t,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(I=>I)),c(t,["cacheTokensDetails"],A)}const y=u(i,["candidatesTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(I=>I)),c(t,["responseTokensDetails"],A)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(I=>I)),c(t,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function GE(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],HE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&c(t,["index"],v);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const y=u(i,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function HE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function VE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let f=zt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function qE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function zE(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],BE(a)),t}function BE(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ja(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>Q_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function PE(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function kE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function OE(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],ot(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>pg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],L_(f)),l}function FE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=zt(r);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&kE(f),l}function YE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=zt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&OE(f,l),l}function JE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function XE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function KE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],_e(i,a)),l}function QE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],_e(i,a)),l}function ZE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function $E(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function WE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const G=u(i,["addWatermark"]);t!==void 0&&G!=null&&c(t,["parameters","addWatermark"],G);const k=u(i,["labels"]);t!==void 0&&k!=null&&c(t,["labels"],k);const X=u(i,["editMode"]);t!==void 0&&X!=null&&c(t,["parameters","editMode"],X);const O=u(i,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),l}function jE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>tA(v))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&WE(p,l),l}function e_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Xa(f))),c(t,["generatedImages"],r)}return t}function t_(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function n_(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function i_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let g=Yu(i,r);Array.isArray(g)&&(g=g.map(v=>v)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&t_(f,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],_e(i,p)),l}function o_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=Yu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&n_(f,l),l}function l_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function a_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>zE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function s_(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function r_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function u_(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function c_(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function f_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function d_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Ja(ot(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const y=u(t,["stopSequences"]);y!=null&&c(a,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const G=u(t,["responseMimeType"]);G!=null&&c(a,["responseMimeType"],G);const k=u(t,["responseSchema"]);k!=null&&c(a,["responseSchema"],Ju(k));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let Te=O;Array.isArray(Te)&&(Te=Te.map(ke=>nA(ke))),c(l,["safetySettings"],Te)}const F=u(t,["tools"]);if(l!==void 0&&F!=null){let Te=so(F);Array.isArray(Te)&&(Te=Te.map(ke=>uA(ao(ke)))),c(l,["tools"],Te)}const $=u(t,["toolConfig"]);if(l!==void 0&&$!=null&&c(l,["toolConfig"],rA($)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(t,["cachedContent"]);l!==void 0&&te!=null&&c(l,["cachedContent"],yn(i,te));const D=u(t,["responseModalities"]);D!=null&&c(a,["responseModalities"],D);const W=u(t,["mediaResolution"]);W!=null&&c(a,["mediaResolution"],W);const Y=u(t,["speechConfig"]);if(Y!=null&&c(a,["speechConfig"],Xu(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=u(t,["thinkingConfig"]);le!=null&&c(a,["thinkingConfig"],le);const de=u(t,["imageConfig"]);de!=null&&c(a,["imageConfig"],z_(de));const Ae=u(t,["enableEnhancedCivicAnswers"]);return Ae!=null&&c(a,["enableEnhancedCivicAnswers"],Ae),a}function p_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],ot(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const y=u(t,["stopSequences"]);y!=null&&c(a,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const G=u(t,["responseMimeType"]);G!=null&&c(a,["responseMimeType"],G);const k=u(t,["responseSchema"]);k!=null&&c(a,["responseSchema"],Ju(k));const X=u(t,["responseJsonSchema"]);X!=null&&c(a,["responseJsonSchema"],X);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const F=u(t,["modelSelectionConfig"]);F!=null&&c(a,["modelConfig"],F);const $=u(t,["safetySettings"]);if(l!==void 0&&$!=null){let V=$;Array.isArray(V)&&(V=V.map(J=>J)),c(l,["safetySettings"],V)}const te=u(t,["tools"]);if(l!==void 0&&te!=null){let V=so(te);Array.isArray(V)&&(V=V.map(J=>pg(ao(J)))),c(l,["tools"],V)}const D=u(t,["toolConfig"]);l!==void 0&&D!=null&&c(l,["toolConfig"],D);const W=u(t,["labels"]);l!==void 0&&W!=null&&c(l,["labels"],W);const Y=u(t,["cachedContent"]);l!==void 0&&Y!=null&&c(l,["cachedContent"],yn(i,Y));const le=u(t,["responseModalities"]);le!=null&&c(a,["responseModalities"],le);const de=u(t,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const Ae=u(t,["speechConfig"]);Ae!=null&&c(a,["speechConfig"],Xu(Ae));const Te=u(t,["audioTimestamp"]);Te!=null&&c(a,["audioTimestamp"],Te);const ke=u(t,["thinkingConfig"]);ke!=null&&c(a,["thinkingConfig"],ke);const ft=u(t,["imageConfig"]);if(ft!=null&&c(a,["imageConfig"],B_(ft)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Nh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=zt(r);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],d_(i,f,l)),l}function xh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let p=zt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],p_(i,f,l)),l}function wh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(h=>GE(h))),c(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function bh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>y)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const v=u(i,["usageMetadata"]);return v!=null&&c(t,["usageMetadata"],v),t}function m_(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const v=u(i,["includeSafetyAttributes"]);t!==void 0&&v!=null&&c(t,["parameters","includeSafetyAttributes"],v);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const y=u(i,["language"]);t!==void 0&&y!=null&&c(t,["parameters","language"],y);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function h_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const G=u(i,["addWatermark"]);t!==void 0&&G!=null&&c(t,["parameters","addWatermark"],G);const k=u(i,["labels"]);t!==void 0&&k!=null&&c(t,["labels"],k);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&c(t,["parameters","sampleImageSize"],X);const O=u(i,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),l}function g_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&m_(f,l),l}function v_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&h_(f,l),l}function y_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>b_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],fg(r)),t}function T_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Xa(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],dg(r)),t}function S_(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=u(i,["negativePrompt"]);t!==void 0&&v!=null&&c(t,["parameters","negativePrompt"],v);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=u(i,["lastFrame"]);t!==void 0&&y!=null&&c(t,["instances[0]","lastFrame"],Ka(y));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>_A(A))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function E_(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const v=u(i,["aspectRatio"]);t!==void 0&&v!=null&&c(t,["parameters","aspectRatio"],v);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&c(t,["parameters","pubsubTopic"],S);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const I=u(i,["generateAudio"]);t!==void 0&&I!=null&&c(t,["parameters","generateAudio"],I);const L=u(i,["lastFrame"]);t!==void 0&&L!=null&&c(t,["instances[0]","lastFrame"],Jt(L));const G=u(i,["referenceImages"]);if(t!==void 0&&G!=null){let O=G;Array.isArray(O)&&(O=O.map(F=>AA(F))),c(t,["instances[0]","referenceImages"],O)}const k=u(i,["mask"]);t!==void 0&&k!=null&&c(t,["instances[0]","mask"],EA(k));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&c(t,["parameters","compressionQuality"],X),l}function __(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],M_(p)),t}function A_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],N_(p)),t}function C_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Ka(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],mg(p));const g=u(t,["source"]);g!=null&&x_(g,l);const v=u(t,["config"]);return v!=null&&S_(v,l),l}function R_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Jt(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],hg(p));const g=u(t,["source"]);g!=null&&w_(g,l);const v=u(t,["config"]);return v!=null&&E_(v,l),l}function M_(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>D_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function N_(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>U_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function x_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ka(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],mg(f)),l}function w_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],hg(f)),l}function b_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],P_(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],fg(r)),t}function Xa(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],cg(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],dg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function I_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],cg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function D_(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],TA(l)),t}function U_(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],SA(l)),t}function L_(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&c(t,["logprobs"],v);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const y=u(i,["mediaResolution"]);y!=null&&c(t,["mediaResolution"],y);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const G=u(i,["routingConfig"]);G!=null&&c(t,["routingConfig"],G);const k=u(i,["seed"]);k!=null&&c(t,["seed"],k);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const F=u(i,["temperature"]);F!=null&&c(t,["temperature"],F);const $=u(i,["thinkingConfig"]);$!=null&&c(t,["thinkingConfig"],$);const te=u(i,["topK"]);te!=null&&c(t,["topK"],te);const D=u(i,["topP"]);if(D!=null&&c(t,["topP"],D),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function G_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],_e(i,a)),l}function H_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],_e(i,a)),l}function V_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function q_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function z_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function B_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function P_(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Yn(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function cg(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ka(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Yn(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jt(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function k_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],ig(i,g)),a}function O_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],ig(i,g)),a}function F_(i,t){const l={},a=u(t,["config"]);return a!=null&&k_(i,a,l),l}function Y_(i,t){const l={},a=u(t,["config"]);return a!=null&&O_(i,a,l),l}function J_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=og(r);Array.isArray(f)&&(f=f.map(p=>bu(p))),c(t,["models"],f)}return t}function X_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=og(r);Array.isArray(f)&&(f=f.map(p=>Iu(p))),c(t,["models"],f)}return t}function K_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function bu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],cA(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const v=u(i,["outputTokenLimit"]);v!=null&&c(t,["outputTokenLimit"],v);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const y=u(i,["temperature"]);y!=null&&c(t,["temperature"],y);const S=u(i,["maxTemperature"]);S!=null&&c(t,["maxTemperature"],S);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const I=u(i,["thinking"]);return I!=null&&c(t,["thinking"],I),t}function Iu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>s_(E))),c(t,["endpoints"],S)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const v=u(i,["_self"]);v!=null&&c(t,["tunedModelInfo"],fA(v));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const y=u(i,["checkpoints"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>E)),c(t,["checkpoints"],S)}return t}function Q_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],r_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],u_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],LE(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const y=u(i,["thought"]);y!=null&&c(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function Z_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],Jt(l)),t}function $_(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","mimeType"],y);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function W_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["source"]);r!=null&&eA(r,l);const f=u(t,["config"]);return f!=null&&$_(f,l),l}function j_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Xa(r))),c(t,["generatedImages"],a)}return t}function eA(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Jt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Z_(g))),c(t,["instances[0]","productImages"],p)}return l}function tA(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Jt(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],K_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],PE(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const v=u(i,["subjectImageConfig"]);return v!=null&&c(t,["subjectImageConfig"],v),t}function fg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function dg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function nA(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function iA(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],Jt(l)),t}function oA(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const v=u(i,["labels"]);return t!==void 0&&v!=null&&c(t,["labels"],v),l}function lA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["source"]);r!=null&&sA(r,l);const f=u(t,["config"]);return f!=null&&oA(f,l),l}function aA(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>I_(r))),c(t,["generatedMasks"],a)}return t}function sA(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],iA(f)),l}function rA(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],c_(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function uA(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(S=>S)),c(t,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],V_(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],q_(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function pg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let S=l;Array.isArray(S)&&(S=S.map(E=>f_(E))),c(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const y=u(i,["urlContext"]);return y!=null&&c(t,["urlContext"],y),t}function cA(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function fA(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function dA(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function pA(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function mA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],_e(i,a));const r=u(t,["config"]);return r!=null&&dA(r,l),l}function hA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&pA(r,l),l}function gA(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const v=u(i,["outputCompressionQuality"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","compressionQuality"],v);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const y=u(i,["imagePreservationFactor"]);t!==void 0&&y!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],y);const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function vA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],_e(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Jt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&gA(p,l),l}function yA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Xa(f))),c(t,["generatedImages"],r)}return t}function TA(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Yn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function SA(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function EA(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],Jt(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function _A(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Ka(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function AA(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Jt(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function mg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function hg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CA(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function RA(i){const t={},l=u(i,["config"]);return l!=null&&CA(l,t),t}function MA(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function NA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&MA(a,t),t}function xA(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function wA(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function bA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],DA(p)),t}function IA(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&wA(r,t),t}function DA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function UA(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function LA(i){const t={},l=u(i,["config"]);return l!=null&&UA(l,t),t}function GA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function gg(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function HA(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&gg(a,t),t}function VA(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qA="Content-Type",zA="X-Server-Timeout",BA="User-Agent",Du="x-goog-api-client",PA="1.34.0",kA=`google-genai-sdk/${PA}`,OA="v1beta1",FA="v1beta";class YA{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:OA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:FA,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&JA(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Ih(r),new Nu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Ih(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ft(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield ae(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=f.decode(y,{stream:!0});try{const I=JSON.parse(S);if("error"in I){const L=JSON.parse(JSON.stringify(I.error)),G=L.status,k=L.code,X=`got status: ${G}. ${JSON.stringify(I)}`;if(k>=400&&k<600)throw new Ya({message:X,status:k})}}catch(I){if(I.name==="ApiError")throw I}p+=S;let E=-1,A=0;for(;;){E=-1,A=0;for(const G of v){const k=p.indexOf(G);k!==-1&&(E===-1||k<E)&&(E=k,A=G.length)}if(E===-1)break;const I=p.substring(0,E);p=p.substring(E+A);const L=I.trim();if(L.startsWith(g)){const G=L.substring(g.length).trim();try{const k=new Response(G,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ae(new Nu(k))}catch(k){throw new Error(`exception parsing stream chunk ${G}. ${k}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=kA+" "+this.clientOptions.userAgentExtra;return t[BA]=l,t[Du]=l,t[qA]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(zA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const v={file:r},h=this.getFileName(t),y=Q("upload/v1beta/files",v._url),S=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,h,v,l==null?void 0:l.httpOptions);return f.upload(t,S,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,p=await f.stat(l),g=String(p.size),v=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(l),S={};a!=null&&gg(a,S);const E=await this.fetchUploadUrl(h,g,v,y,S,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,p){var g;let v={};p?v=p:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:v});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Ih(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Ya({message:r,status:l}):new Error(r)}}function JA(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v)){const h=p[v],y=g[v];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?g[v]=a(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),g[v]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XA="mcp_used/unknown";let KA=!1;function vg(i){for(const t of i)if(QA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return KA}function yg(i){var t;const l=(t=i[Du])!==null&&t!==void 0?t:"";i[Du]=(l+` ${XA}`).trimStart()}function QA(i){return i!==null&&typeof i=="object"&&i instanceof Qu}function ZA(i){return Ft(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const p=yield ae(l.listTools({cursor:r}));for(const g of p.tools)yield yield ae(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Qu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Qu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const y of this.mcpClients)try{for(var g=!0,v=(l=void 0,Yt(ZA(y))),h;h=await v.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const S=r;p.push(S);const E=S.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=y}}catch(S){l={error:S}}finally{try{!g&&!t&&(a=v.return)&&await a.call(v)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),xT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $A(i,t,l){const a=new ST;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class WA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=tC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const y=new Promise(O=>{h=O}),S=t.callbacks,E=function(){h({})},A=this.apiClient,I={onopen:E,onmessage:O=>{$A(A,S.onmessage,O)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(O){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(O){}},L=this.webSocketFactory.create(v,eC(p),I);L.connect(),await y;const X={setup:{model:_e(this.apiClient,t.model)}};return L.send(JSON.stringify(X)),new jA(L,this.apiClient)}}class jA{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=RE(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=CE(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(to.PLAY)}pause(){this.sendPlaybackControl(to.PAUSE)}stop(){this.sendPlaybackControl(to.STOP)}resetContext(){this.sendPlaybackControl(to.RESET_CONTEXT)}close(){this.conn.close()}}function eC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function tC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iC(i,t,l){const a=new TT;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=xE(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class oC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new WA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&vg(t.config.tools)&&yg(S);const E=rC(S);if(this.apiClient.isVertexAI())y=`${v}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y);else{const Y=this.apiClient.getApiKey();let le="BidiGenerateContent",de="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",de="access_token"),y=`${v}/ws/google.ai.generativelanguage.${h}.GenerativeService.${le}?${de}=${Y}`}let A=()=>{};const I=new Promise(Y=>{A=Y}),L=t.callbacks,G=function(){var Y;(Y=L==null?void 0:L.onopen)===null||Y===void 0||Y.call(L),A({})},k=this.apiClient,X={onopen:G,onmessage:Y=>{iC(k,L.onmessage,Y)},onerror:(l=L==null?void 0:L.onerror)!==null&&l!==void 0?l:function(Y){},onclose:(a=L==null?void 0:L.onclose)!==null&&a!==void 0?a:function(Y){}},O=this.webSocketFactory.create(y,sC(E),X);O.connect(),await I;let F=_e(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const Y=this.apiClient.getProject(),le=this.apiClient.getLocation();F=`projects/${Y}/locations/${le}/`+F}let $={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[fl.AUDIO]}:t.config.responseModalities=[fl.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],D=[];for(const Y of te)if(this.isCallableTool(Y)){const le=Y;D.push(await le.tool())}else D.push(Y);D.length>0&&(t.config.tools=D);const W={model:F,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?$=AE(this.apiClient,W):$=_E(this.apiClient,W),delete $.config,O.send(JSON.stringify($)),new aC(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const lC={turnComplete:!0};class aC{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=zt(l.turns),t.isVertexAI()||(a=a.map(r=>Ja(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(nC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},lC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:NE(t)}:l={realtimeInput:ME(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function sC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function rC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dh=10;function Uh(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(oo(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function oo(i){return"callTool"in i&&typeof i.callTool=="function"}function uC(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>oo(r)))!==null&&a!==void 0?a:!1}function Lh(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(oo(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Gh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cC extends vn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,p,g;const v=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!uC(l)||Uh(l.config))return await this.generateContentInternal(v);const h=Lh(l);if(h.length>0){const L=h.map(G=>`tools[${G}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let y,S;const E=zt(v.contents),A=(f=(r=(a=v.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Dh;let I=0;for(;I<A&&(y=await this.generateContentInternal(v),!(!y.functionCalls||y.functionCalls.length===0));){const L=y.candidates[0].content,G=[];for(const k of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(oo(k)){const O=await k.callTool(y.functionCalls);G.push(...O)}I++,S={role:"user",parts:G},v.contents=zt(v.contents),v.contents.push(L),v.contents.push(S),Gh(v.config)&&(E.push(L),E.push(S))}return Gh(v.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async l=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(l),Uh(l.config)){const S=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(S)}const v=Lh(l);if(v.length>0){const S=v.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,y=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const v of a.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=v==null?void 0:v.safetyAttributes:p.push(v);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new hi(gn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,p,g,v;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((v=(g=l.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async v=>oo(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&vg(t.config.tools)){const v=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},v);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),yg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(oo(p)){const g=p,v=await g.tool();for(const h of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Dh;let p=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(h,y,S){return Ft(this,arguments,function*(){for(var E,A,I,L,G,k;g<f;){p&&(g++,p=!1);const $=yield ae(h.processParamsMaybeAddMcpUsage(S)),te=yield ae(h.generateContentStreamInternal($)),D=[],W=[];try{for(var X=!0,O=(A=void 0,Yt(te)),F;F=yield ae(O.next()),E=F.done,!E;X=!0){L=F.value,X=!1;const Y=L;if(yield yield ae(Y),Y.candidates&&(!((G=Y.candidates[0])===null||G===void 0)&&G.content)){W.push(Y.candidates[0].content);for(const le of(k=Y.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(g<f&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(le.functionCall.name)){const de=yield ae(y.get(le.functionCall.name).callTool([le.functionCall]));D.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(Y){A={error:Y}}finally{try{!X&&!E&&(I=O.return)&&(yield ae(I.call(O)))}finally{if(A)throw A.error}}if(D.length>0){p=!0;const Y=new ll;Y.candidates=[{content:{role:"user",parts:D}}],yield yield ae(Y);const le=[];le.push(...W),le.push({role:"user",parts:D});const de=zt(S.contents).concat(le);S.contents=de}else break}})})(this,v,t)}async generateContentInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=xh(this.apiClient,t);return g=Q("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=bh(y),E=new ll;return Object.assign(E,S),E})}else{const h=Nh(this.apiClient,t);return g=Q("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=wh(y),E=new ll;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=xh(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return Ft(this,arguments,function*(){var E,A,I,L;try{for(var G=!0,k=Yt(S),X;X=yield ae(k.next()),E=X.done,!E;G=!0){L=X.value,G=!1;const O=L,F=bh(yield ae(O.json()));F.sdkHttpResponse={headers:O.headers};const $=new ll;Object.assign($,F),yield yield ae($)}}catch(O){A={error:O}}finally{try{!G&&!E&&(I=k.return)&&(yield ae(I.call(k)))}finally{if(A)throw A.error}}})})}else{const h=Nh(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(S){return Ft(this,arguments,function*(){var E,A,I,L;try{for(var G=!0,k=Yt(S),X;X=yield ae(k.next()),E=X.done,!E;G=!0){L=X.value,G=!1;const O=L,F=wh(yield ae(O.json()));F.sdkHttpResponse={headers:O.headers};const $=new ll;Object.assign($,F),yield yield ae($)}}catch(O){A={error:O}}finally{try{!G&&!E&&(I=k.return)&&(yield ae(I.call(k)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=o_(this.apiClient,t);return g=Q("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=a_(y),E=new ch;return Object.assign(E,S),E})}else{const h=i_(this.apiClient,t);return g=Q("{model}:batchEmbedContents",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=l_(y),E=new ch;return Object.assign(E,S),E})}}async generateImagesInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=v_(this.apiClient,t);return g=Q("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=T_(y),E=new fh;return Object.assign(E,S),E})}else{const h=g_(this.apiClient,t);return g=Q("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=y_(y),E=new fh;return Object.assign(E,S),E})}}async editImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=jE(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=e_(v),y=new rT;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=vA(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=yA(v),y=new uT;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=W_(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=j_(v),y=new cT;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=lA(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=aA(v),y=new fT;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=H_(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>Iu(y))}else{const h=G_(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>bu(y))}}async listInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=Y_(this.apiClient,t);return g=Q("{models_url}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=X_(y),E=new dh;return Object.assign(E,S),E})}else{const h=F_(this.apiClient,t);return g=Q("{models_url}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=J_(y),E=new dh;return Object.assign(E,S),E})}}async update(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=hA(this.apiClient,t);return g=Q("{model}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>Iu(y))}else{const h=mA(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>bu(y))}}async delete(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=QE(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=$E(y),E=new ph;return Object.assign(E,S),E})}else{const h=KE(this.apiClient,t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=ZE(y),E=new ph;return Object.assign(E,S),E})}}async countTokens(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=YE(this.apiClient,t);return g=Q("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=XE(y),E=new mh;return Object.assign(E,S),E})}else{const h=FE(this.apiClient,t);return g=Q("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=JE(y),E=new mh;return Object.assign(E,S),E})}}async computeTokens(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=VE(this.apiClient,t);return f=Q("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=qE(v),y=new dT;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=R_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>{const S=A_(y),E=new Ba;return Object.assign(E,S),E})}else{const h=C_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p.then(y=>{const S=__(y),E=new Ba;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends vn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=nT(t);return g=Q("{operationName}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p}else{const h=tT(t);return g=Q("{operationName}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=Ky(t);return f=Q("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function pC(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>_C(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function mC(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],EC(i,g));const v=u(t,["lockAdditionalFields"]);return l!==void 0&&v!=null&&c(l,["fieldMask"],v),a}function hC(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],mC(i,a,l)),l}function gC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function vC(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function TC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function SC(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Ku(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],pC(ot(I)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let te=so(L);Array.isArray(te)&&(te=te.map(D=>CC(ao(D)))),c(t,["setup","tools"],te)}const G=u(i,["sessionResumption"]);t!==void 0&&G!=null&&c(t,["setup","sessionResumption"],AC(G));const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const F=u(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const $=u(i,["proactivity"]);if(t!==void 0&&$!=null&&c(t,["setup","proactivity"],$),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function EC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],SC(r,l)),l}function _C(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],gC(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],vC(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],dC(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const y=u(i,["thought"]);y!=null&&c(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function AC(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function CC(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(S=>S)),c(t,["functionDeclarations"],y)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],yC(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],TC(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function MC(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=RC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const v=[];f&&v.push(f),g.length>0&&v.push(...g),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class NC extends vn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=hC(this.apiClient,t);f=Q("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const v=MC(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function wC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&xC(a,t),t}function bC(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function IC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function DC(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&IC(a,t),t}function UC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LC extends vn{constructor(t){super(),this.apiClient=t,this.list=async l=>new hi(gn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bC(t);return f=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=wC(t);r=Q("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DC(t);return f=Q("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=UC(v),y=new pT;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC extends vn{constructor(t,l=new LC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new hi(gn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RA(t);return f=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xA(t);return f=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=NA(t);r=Q("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LA(t);return f=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=GA(v),y=new mT;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HA(t);return f=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=VA(v),y=new hT;return Object.assign(y,h),y})}}async importFile(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IA(t);return f=Q("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),r.then(v=>{const h=bA(v),y=new Ou;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Tg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Tg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const HC=()=>Tg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Lu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bt extends Error{}class ct extends Bt{constructor(t,l,a,r){super(`${ct.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Qa({message:a,cause:Lu(l)});const f=l;return t===400?new Eg(t,f,a,r):t===401?new _g(t,f,a,r):t===403?new Ag(t,f,a,r):t===404?new Cg(t,f,a,r):t===409?new Rg(t,f,a,r):t===422?new Mg(t,f,a,r):t===429?new Ng(t,f,a,r):t>=500?new xg(t,f,a,r):new ct(t,f,a,r)}}class Gu extends ct{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Qa extends ct{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class Sg extends Qa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Eg extends ct{}class _g extends ct{}class Ag extends ct{}class Cg extends ct{}class Rg extends ct{}class Mg extends ct{}class Ng extends ct{}class xg extends ct{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VC=/^[a-z][a-z0-9+.-]*:/i,qC=i=>VC.test(i);let Hu=i=>(Hu=Array.isArray,Hu(i));const zC=Hu;let BC=zC;const Hh=BC;function PC(i){if(!i)return!0;for(const t in i)return!1;return!0}function kC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const OC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Bt(`${i} must be an integer`);if(t<0)throw new Bt(`${i} must be a positive integer`);return t},FC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const XC=()=>{var i,t,l,a,r;const f=JC();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":qh(Deno.build.os),"X-Stainless-Arch":Vh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":qh((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Vh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=KC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function KC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Vh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",qh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ia;const QC=()=>Ia??(Ia=XC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function wg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function $C(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return wg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function bg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function WC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Au(i,t,l){return Ig(),new File(i,t??"unknown_file",l)}function eR(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const tR=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",nR=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Dg(i),iR=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function oR(i,t,l){if(Ig(),i=await i,nR(i))return i instanceof File?i:Au([await i.arrayBuffer()],i.name);if(iR(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Au(await Vu(r),t,l)}const a=await Vu(i);if(t||(t=eR(i)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return Au(a,t,l)}async function Vu(i){var t,l,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Dg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(tR(i))try{for(var g=!0,v=Yt(i),h;h=await v.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const y=r;p.push(...await Vu(y))}}catch(y){l={error:y}}finally{try{!g&&!t&&(a=v.return)&&await a.call(v)}finally{if(l)throw l.error}}else{const y=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${y?`; constructor: ${y}`:""}${lR(i)}`)}return p}function lR(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ug{constructor(t){this._client=t}}Ug._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zh=Object.freeze(Object.create(null)),aR=(i=Lg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],p=l.reduce((y,S,E)=>{var A,I,L;/[?#]/.test(S)&&(r=!0);const G=a[E];let k=(r?encodeURIComponent:i)(""+G);return E!==a.length&&(G==null||typeof G=="object"&&G.toString===((L=Object.getPrototypeOf((I=Object.getPrototypeOf((A=G.hasOwnProperty)!==null&&A!==void 0?A:zh))!==null&&I!==void 0?I:zh))===null||L===void 0?void 0:L.toString))&&(k=G+"",f.push({start:y.length+S.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(G).slice(8,-1)} is not a valid path parameter`})),y+S+(E===a.length?"":k)},""),g=p.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=v.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((y,S)=>y.start-S.start),f.length>0){let y=0;const S=f.reduce((E,A)=>{const I=" ".repeat(A.start-y),L="^".repeat(A.length);return y=A.start+A.length,E+I+L},"");throw new Bt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${S}`)}return p}),Da=aR(Lg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gg extends Ug{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=ka(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Bt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Bt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Da`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Da`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Da`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:p=this._client.apiVersion}=f,g=ka(f,["api_version"]);return this._client.get(Da`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Gg._key=Object.freeze(["interactions"]);class Hg extends Gg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sR(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let Ua;function Zu(i){let t;return(Ua??(t=new globalThis.TextEncoder,Ua=t.encode.bind(t)))(i)}let La;function Bh(i){let t;return(La??(t=new globalThis.TextDecoder,La=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Zu(t):t;this.buffer=sR([this.buffer,l]);const a=[];let r;for(;(r=rR(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Bh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Bh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Za.NEWLINE_CHARS=new Set([`
`,"\r"]);Za.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function rR(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function uR(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oa={off:0,error:200,warn:300,info:400,debug:500},Ph=(i,t,l)=>{if(i){if(kC(Oa,i))return i;st(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Oa))}`)}};function rl(){}function Ga(i,t,l){return!t||Oa[i]>Oa[l]?rl:t[i].bind(t)}const cR={error:rl,warn:rl,info:rl,debug:rl};let kh=new WeakMap;function st(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return cR;const r=kh.get(l);if(r&&r[0]===a)return r[1];const f={error:Ga("error",l,a),warn:Ga("warn",l,a),info:Ga("info",l,a),debug:Ga("debug",l,a)};return kh.set(l,[a,f]),f}const fi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class no{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?st(a):console;function p(){return Ft(this,arguments,function*(){var v,h,y,S;if(r)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,I=Yt(fR(t,l)),L;L=yield ae(I.next()),v=L.done,!v;A=!0){S=L.value,A=!1;const G=S;if(!E)if(G.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ae(JSON.parse(G.data))}catch(k){throw f.error("Could not parse message into JSON:",G.data),f.error("From chunk:",G.raw),k}}}catch(G){h={error:G}}finally{try{!A&&!v&&(y=I.return)&&(yield ae(y.call(I)))}finally{if(h)throw h.error}}E=!0}catch(G){if(Uu(G))return yield ae(void 0);throw G}finally{E||l.abort()}})}return new no(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return Ft(this,arguments,function*(){var v,h,y,S;const E=new Za,A=bg(t);try{for(var I=!0,L=Yt(A),G;G=yield ae(L.next()),v=G.done,!v;I=!0){S=G.value,I=!1;const k=S;for(const X of E.decode(k))yield yield ae(X)}}catch(k){h={error:k}}finally{try{!I&&!v&&(y=L.return)&&(yield ae(y.call(L)))}finally{if(h)throw h.error}}for(const k of E.flush())yield yield ae(k)})}function p(){return Ft(this,arguments,function*(){var v,h,y,S;if(r)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,I=Yt(f()),L;L=yield ae(I.next()),v=L.done,!v;A=!0){S=L.value,A=!1;const G=S;E||G&&(yield yield ae(JSON.parse(G)))}}catch(G){h={error:G}}finally{try{!A&&!v&&(y=I.return)&&(yield ae(y.call(I)))}finally{if(h)throw h.error}}E=!0}catch(G){if(Uu(G))return yield ae(void 0);throw G}finally{E||l.abort()}})}return new no(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),l.push(p)}return f.shift()}});return[new no(()=>r(t),this.controller,this.client),new no(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return wg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const p=Zu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function fR(i,t){return Ft(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Bt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bt("Attempted to iterate over a response with no body");const g=new pR,v=new Za,h=bg(i.body);try{for(var y=!0,S=Yt(dR(h)),E;E=yield ae(S.next()),a=E.done,!a;y=!0){p=E.value,y=!1;const A=p;for(const I of v.decode(A)){const L=g.decode(I);L&&(yield yield ae(L))}}}catch(A){r={error:A}}finally{try{!y&&!a&&(f=S.return)&&(yield ae(f.call(S)))}finally{if(r)throw r.error}}for(const A of v.flush()){const I=g.decode(A);I&&(yield yield ae(I))}})}function dR(i){return Ft(this,arguments,function*(){var l,a,r,f;let p=new Uint8Array;try{for(var g=!0,v=Yt(i),h;h=yield ae(v.next()),l=h.done,!l;g=!0){f=h.value,g=!1;const y=f;if(y==null)continue;const S=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Zu(y):y;let E=new Uint8Array(p.length+S.length);E.set(p),E.set(S,p.length),p=E;let A;for(;(A=uR(p))!==-1;)yield yield ae(p.slice(0,A)),p=p.slice(A)}}catch(y){a={error:y}}finally{try{!g&&!l&&(r=v.return)&&(yield ae(r.call(v)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ae(p))})}class pR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=mR(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function mR(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hR(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return st(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):no.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const v=l.headers.get("content-type"),h=(g=v==null?void 0:v.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return st(i).debug(`[${a}] response parsed`,fi({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $u extends Promise{constructor(t,l,a=hR){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new $u(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vg=Symbol("brand.privateNullableHeaders");function*gR(i){if(!i)return;if(Vg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Hh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Hh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const al=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[f,p]of gR(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),l.add(g)):(t.append(f,p),l.delete(g))}}return{[Vg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cu=i=>{var t,l,a,r,f,p;if(typeof globalThis.process<"u")return(a=(l=(t=ky)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qg;class $a{constructor(t){var l,a,r,f,p,g,v,{baseURL:h=Cu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(l=Cu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:S="v1beta"}=t,E=ka(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:y,apiVersion:S},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:$a.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const I="warn";this.logLevel=I,this.logLevel=(p=(f=Ph(A.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Ph(Cu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:I,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(v=A.fetch)!==null&&v!==void 0?v:ZC(),this.encoder=jC,this._options=A,this.apiKey=y,this.apiVersion=S,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=al([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return al([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return al([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Bt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${HC()}`}makeStatusError(t,l,a,r){return ct.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=qC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return PC(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new $u(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,p;const g=await t,v=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=v),await this.prepareOptions(g);const{req:h,url:y,timeout:S}=await this.buildRequest(g,{retryCount:v-l});await this.prepareRequest(h,{url:y,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,I=Date.now();if(st(this).debug(`[${E}] sending request`,fi({retryOfRequestLogID:a,method:g.method,url:y,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Gu;const L=new AbortController,G=await this.fetchWithTimeout(y,h,S,L).catch(Lu),k=Date.now();if(G instanceof globalThis.Error){const O=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Gu;const F=Uu(G)||/timed? ?out/i.test(String(G)+("cause"in G?String(G.cause):""));if(l)return st(this).info(`[${E}] connection ${F?"timed out":"failed"} - ${O}`),st(this).debug(`[${E}] connection ${F?"timed out":"failed"} (${O})`,fi({retryOfRequestLogID:a,url:y,durationMs:k-I,message:G.message})),this.retryRequest(g,l,a??E);throw st(this).info(`[${E}] connection ${F?"timed out":"failed"} - error; no more retries left`),st(this).debug(`[${E}] connection ${F?"timed out":"failed"} (error; no more retries left)`,fi({retryOfRequestLogID:a,url:y,durationMs:k-I,message:G.message})),F?new Sg:new Qa({cause:G})}const X=`[${E}${A}] ${h.method} ${y} ${G.ok?"succeeded":"failed"} with status ${G.status} in ${k-I}ms`;if(!G.ok){const O=await this.shouldRetry(G);if(l&&O){const Y=`retrying, ${l} attempts remaining`;return await WC(G.body),st(this).info(`${X} - ${Y}`),st(this).debug(`[${E}] response error (${Y})`,fi({retryOfRequestLogID:a,url:G.url,status:G.status,headers:G.headers,durationMs:k-I})),this.retryRequest(g,l,a??E,G.headers)}const F=O?"error; no more retries left":"error; not retryable";st(this).info(`${X} - ${F}`);const $=await G.text().catch(Y=>Lu(Y).message),te=FC($),D=te?void 0:$;throw st(this).debug(`[${E}] response error (${F})`,fi({retryOfRequestLogID:a,url:G.url,status:G.status,headers:G.headers,message:D,durationMs:Date.now()-I})),this.makeStatusError(G.status,te,D,G.headers)}return st(this).info(X),st(this).debug(`[${E}] response start`,fi({retryOfRequestLogID:a,url:G.url,status:G.status,headers:G.headers,durationMs:k-I})),{response:G,options:g,controller:L,requestLogID:E,retryOfRequestLogID:a,startTime:I}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:p,method:g}=f,v=ka(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),y=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},y?{duplex:"half"}:{}),{method:"GET"}),v);g&&(S.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const v=r==null?void 0:r.get("retry-after");if(v&&!p){const h=parseFloat(v);Number.isNaN(h)?p=Date.parse(v)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,h)}return await YC(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:v,query:h,defaultBaseURL:y}=p,S=this.buildURL(v,h,y);"timeout"in p&&OC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:p}),I=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:I},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=al([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),QC()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=al([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:$C(t)}:this.encoder({body:t,headers:a})}}$a.DEFAULT_TIMEOUT=6e4;class Ze extends $a{constructor(){super(...arguments),this.interactions=new Hg(this)}}qg=Ze;Ze.GeminiNextGenAPIClient=qg;Ze.GeminiNextGenAPIClientError=Bt;Ze.APIError=ct;Ze.APIConnectionError=Qa;Ze.APIConnectionTimeoutError=Sg;Ze.APIUserAbortError=Gu;Ze.NotFoundError=Cg;Ze.ConflictError=Rg;Ze.RateLimitError=Ng;Ze.BadRequestError=Eg;Ze.AuthenticationError=_g;Ze.InternalServerError=xg;Ze.PermissionDeniedError=Ag;Ze.UnprocessableEntityError=Mg;Ze.toFile=oR;Ze.Interactions=Hg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vR(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function yR(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function TR(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function SR(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function ER(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const v=u(i,["learningRate"]);if(t!==void 0&&v!=null&&c(t,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function _R(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Oh(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Oh(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function AR(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&LR(f);const p=u(i,["config"]);return p!=null&&ER(p,l),l}function CR(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&GR(f,l,t);const p=u(i,["config"]);return p!=null&&_R(p,l,t),l}function RR(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function MR(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function NR(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function xR(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function wR(i,t){const l={},a=u(i,["config"]);return a!=null&&NR(a,l),l}function bR(i,t){const l={},a=u(i,["config"]);return a!=null&&xR(a,l),l}function IR(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>zg(g))),c(l,["tuningJobs"],p)}return l}function DR(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>qu(g))),c(l,["tuningJobs"],p)}return l}function UR(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function LR(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function GR(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function zg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],tg(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const v=u(i,["tuningTask","completeTime"]);v!=null&&c(l,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const y=u(i,["description"]);y!=null&&c(l,["description"],y);const S=u(i,["baseModel"]);S!=null&&c(l,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&c(l,["tunedModel"],UR(E)),l}function qu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],tg(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(l,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const y=u(i,["error"]);y!=null&&c(l,["error"],y);const S=u(i,["description"]);S!=null&&c(l,["description"],S);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const I=u(i,["preTunedModel"]);I!=null&&c(l,["preTunedModel"],I);const L=u(i,["supervisedTuningSpec"]);L!=null&&c(l,["supervisedTuningSpec"],L);const G=u(i,["preferenceOptimizationSpec"]);G!=null&&c(l,["preferenceOptimizationSpec"],G);const k=u(i,["tuningDataStats"]);k!=null&&c(l,["tuningDataStats"],k);const X=u(i,["encryptionSpec"]);X!=null&&c(l,["encryptionSpec"],X);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(l,["partnerModelTuningSpec"],O);const F=u(i,["customBaseModel"]);F!=null&&c(l,["customBaseModel"],F);const $=u(i,["experiment"]);$!=null&&c(l,["experiment"],$);const te=u(i,["labels"]);te!=null&&c(l,["labels"],te);const D=u(i,["outputUri"]);D!=null&&c(l,["outputUri"],D);const W=u(i,["pipelineJob"]);W!=null&&c(l,["pipelineJob"],W);const Y=u(i,["serviceAccount"]);Y!=null&&c(l,["serviceAccount"],Y);const le=u(i,["tunedModelDisplayName"]);le!=null&&c(l,["tunedModelDisplayName"],le);const de=u(i,["veoTuningSpec"]);return de!=null&&c(l,["veoTuningSpec"],de),l}function HR(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function Oh(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VR extends vn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new hi(gn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Mu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=MR(t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>qu(y))}else{const h=RR(t);return g=Q("{name}",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>zg(y))}}async listInternal(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=bR(t);return g=Q("tuningJobs",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=DR(y),E=new hh;return Object.assign(E,S),E})}else{const h=wR(t);return g=Q("tunedModels",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=IR(y),E=new hh;return Object.assign(E,S),E})}}async cancel(t){var l,a,r,f;let p,g="",v={};if(this.apiClient.isVertexAI()){const h=yR(t);return g=Q("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=SR(y),E=new gh;return Object.assign(E,S),E})}else{const h=vR(t);return g=Q("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const S=TR(y),E=new gh;return Object.assign(E,S),E})}}async tuneInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=CR(t,t);return f=Q("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>qu(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AR(t);return f=Q("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>HR(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qR{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zR=1024*1024*8,BR=3,PR=1e3,kR=2,Fa="x-goog-upload-status";async function OR(i,t,l){var a;const r=await Bg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function FR(i,t,l){var a;const r=await Bg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Qh(f),g=new Fu;return Object.assign(g,p),g}async function Bg(i,t,l){var a,r;let f=0,p=0,g=new Nu(new Response),v="upload";for(f=i.size;p<f;){const h=Math.min(zR,f-p),y=i.slice(p,p+h);p+h>=f&&(v+=", finalize");let S=0,E=PR;for(;S<BR&&(g=await l.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Fa]));)S++,await JR(E),E=E*kR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Fa])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function YR(i){return{size:i.size,type:i.type}}function JR(i){return new Promise(t=>setTimeout(t,i))}class XR{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await OR(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await FR(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await YR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KR{create(t,l,a){return new QR(t,l,a)}}class QR{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fh="x-goog-api-key";class ZR{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Fh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Fh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $R="gl-node/";class WR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new Ze({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=Jy(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new ZR(this.apiKey);this.apiClient=new YA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:$R+"web",uploader:new XR,downloader:new qR}),this.models=new cC(this.apiClient),this.live=new oC(this.apiClient,r,new KR),this.batches=new ES(this.apiClient),this.chats=new nE(this.models,this.apiClient),this.caches=new jS(this.apiClient),this.files=new dE(this.apiClient),this.operations=new fC(this.apiClient),this.authTokens=new NC(this.apiClient),this.tunings=new VR(this.apiClient),this.fileSearchStores=new GC(this.apiClient)}}const Pg=()=>new WR({apiKey:"AIzaSyAnXbqcSx0Ww-MEP4_CAm9jTUxl_nOobas"}),zu="Act as my language coach. Generate one natural 512 word expression in {{LANGUAGE}} about {{TOPIC}} that helps develop a complex idea. Rules: include 1 connector and 1 stance word. Just provide the sentence text.",jR=async(i,t,l)=>{var g;const a=Pg(),f=(l||zu).replace(/{{LANGUAGE}}/g,t).replace(/{{TOPIC}}/g,i);return((g=(await a.models.generateContent({model:"gemini-3-flash-preview",contents:f})).text)==null?void 0:g.trim())||(t==="French"?"Bien que ce soit difficile, nous russissons.":"Interestingly, though the task is difficult, we persist.")},Yh=async(i,t="slow",l="English")=>{var v,h,y,S,E,A;const a=Pg();let r="";t==="word"?r="Speak word-by-word very slowly with distinct pauses between every single word.":t==="slow"?r="Speak with natural conversational flow and prosody, but at a significantly slower overall tempo. Maintain connected speech without artificial pauses between words.":t==="normal"&&(r="Speak at a normal daily conversational speed.");const f=l==="French"?"The language is French. Use perfect native French pronunciation.":"The language is English. Use perfect native English pronunciation.",g=(A=(E=(S=(y=(h=(v=(await a.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:`${f} ${r}: ${i}`}]}],config:{responseModalities:[fl.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:v[0])==null?void 0:h.content)==null?void 0:y.parts)==null?void 0:S[0])==null?void 0:E.inlineData)==null?void 0:A.data;if(!g)throw new Error("Failed to generate audio");return g},eM=({role:i})=>{const[t,l]=fe.useState(""),[a,r]=fe.useState("English"),[f,p]=fe.useState("slow"),[g,v]=fe.useState(null),[h,y]=fe.useState(!1),[S,E]=fe.useState(!1),[A,I]=fe.useState(zu);fe.useEffect(()=>{const F=mi(lo,te=>{const D=te.val();v(D)}),$=mi(Ly,te=>{const D=te.val();D!=null&&D.customPrompt&&I(D.customPrompt)});return()=>{F(),$()}},[]);const L=async()=>{if(t.trim()){y(!0);try{const F=await jR(t,a,A);await qy(F,a),await ba(!0);const $=await Yh(F,f,a);await cm(f,$)}catch(F){console.error("Failed to generate:",F),await ba(!1)}finally{y(!1)}}},G=async()=>{if(!(!(g!=null&&g.sentence)||h||g!=null&&g.isAudioLoading))try{await ba(!0);const F=await Yh(g.sentence,f,g.language);await cm(f,F)}catch(F){console.error("Failed to regenerate audio:",F),await ba(!1)}},k=async()=>{await Vy(A),E(!1)},X=i===it.ADMIN,O=g==null?void 0:g.isAudioLoading;return N.jsxs("div",{className:"space-y-4",children:[X&&N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[N.jsxs("div",{className:"flex-grow flex gap-2",children:[N.jsx("input",{type:"text",value:t,onChange:F=>l(F.target.value),placeholder:"Topic (e.g., 'Art', 'Cuisine')...",className:"flex-grow bg-slate-700/50 border border-slate-600 p-3 rounded-xl text-white outline-none focus:ring-2 ring-blue-500"}),N.jsx("div",{className:"flex bg-slate-900/50 rounded-xl p-1 border border-slate-700 h-full items-center",children:["English","French"].map(F=>N.jsx("button",{onClick:()=>r(F),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${a===F?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:F==="English"?" EN":" FR"},F))})]}),N.jsxs("button",{onClick:L,disabled:h||O,className:`px-6 py-3 rounded-xl font-bold transition-all relative overflow-hidden shrink-0 ${h||O?"bg-slate-600 cursor-not-allowed text-slate-400":"bg-blue-600 hover:bg-blue-500 shadow-lg shadow-blue-500/20 text-white"}`,children:[N.jsx("span",{className:"relative z-10",children:h?"Working...":"Generate"}),h&&N.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-white/30 w-full overflow-hidden",children:N.jsx("div",{className:"h-full bg-white animate-[loading_1.5s_infinite_linear] w-1/3"})})]})]}),N.jsx("div",{className:"flex justify-between items-center px-1",children:N.jsxs("button",{onClick:()=>E(!S),className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 hover:text-slate-300 transition-colors flex items-center gap-1",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),S?"Close Prompt Editor":"Edit Base Prompt"]})}),S&&N.jsxs("div",{className:"bg-slate-900/60 p-4 rounded-2xl border border-slate-700 space-y-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-widest",children:"Custom Prompt Template"}),N.jsxs("span",{className:"text-[10px] text-slate-500 italic",children:["Use ","{{LANGUAGE}}"," and ","{{TOPIC}}"]})]}),N.jsx("textarea",{value:A,onChange:F=>I(F.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl p-3 text-sm text-slate-300 outline-none focus:ring-1 ring-blue-500 h-24 font-mono"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:k,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all",children:"Save to Cloud"}),N.jsx("button",{onClick:()=>I(zu),className:"bg-slate-700 hover:bg-slate-600 text-slate-300 px-4 py-2 rounded-lg text-xs font-bold transition-all",children:"Reset Default"})]})]}),N.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-slate-900/40 rounded-2xl border border-slate-700/50",children:[N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 px-1",children:"Audio Speed"}),N.jsx("div",{className:"flex flex-wrap items-center gap-2 p-1 bg-slate-900/50 rounded-xl border border-slate-700 w-fit",children:["word","slow","normal"].map(F=>N.jsx("button",{onClick:()=>p(F),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all capitalize ${f===F?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/20":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:F==="word"?a==="French"?"Mot  mot":"Word by Word":F==="slow"?a==="French"?"Lent Naturel":"Slow Natural":"Normal"},F))})]}),N.jsxs("button",{onClick:G,disabled:h||O||!g,className:`px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2 relative overflow-hidden ${h||O||!g?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-500/20"}`,children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),N.jsx("span",{children:O?"Processing...":"Sync Audio"}),O&&N.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-white/30 w-full overflow-hidden",children:N.jsx("div",{className:"h-full bg-white animate-[loading_1.5s_infinite_linear] w-1/3"})})]})]})]}),g?N.jsxs("div",{className:"bg-slate-900/50 p-8 rounded-2xl border border-slate-700/50 flex flex-col items-center text-center relative overflow-hidden shadow-inner group",children:[N.jsx("div",{className:"absolute top-4 left-4 flex items-center gap-2 opacity-30 group-hover:opacity-100 transition-opacity",children:N.jsx("span",{className:"text-[10px] font-black bg-slate-800 px-2 py-1 rounded text-slate-400 border border-slate-700 uppercase tracking-tighter",children:g.language==="English"?" English":" French"})}),N.jsxs("p",{className:"text-3xl font-medium text-white leading-relaxed italic drop-shadow-sm mt-4",children:['"',g.sentence,'"']}),O&&N.jsxs("div",{className:"w-full max-w-xs mt-6 space-y-2",children:[N.jsx("div",{className:"h-1 w-full bg-slate-800 rounded-full overflow-hidden",children:N.jsx("div",{className:"h-full bg-blue-500 animate-[loading_2s_infinite_linear] w-1/4 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})}),N.jsx("p",{className:"text-blue-400 text-[10px] font-bold uppercase tracking-widest animate-pulse",children:"Generating reference voices..."})]})]}):N.jsx("div",{className:"text-center py-16 text-slate-500 border-2 border-dashed border-slate-800 rounded-2xl",children:N.jsxs("p",{className:"text-lg font-medium opacity-50",children:["Waiting for ",i===it.ADMIN?"you":"admin"," to generate a session..."]})}),N.jsx("style",{children:`
        @keyframes loading {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(300%); }
        }
      `})]})};let ul=null,cl=null,sl=null;function di(){if(ul&&(ul.pause(),ul=null),cl){try{cl.stop()}catch{}cl=null}}function tM(i){const t=atob(i),l=t.length,a=new Uint8Array(l);for(let r=0;r<l;r++)a[r]=t.charCodeAt(r);return a}async function nM(i,t,l=24e3,a=1){const r=new Int16Array(i.buffer),f=r.length/a,p=t.createBuffer(a,f,l);for(let g=0;g<a;g++){const v=p.getChannelData(g);for(let h=0;h<f;h++)v[h]=r[h*a+g]/32768}return p}async function iM(i,t){di(),sl||(sl=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}));const l=tM(i),a=await nM(l,sl),r=sl.createBufferSource();r.buffer=a,r.connect(sl.destination),r.onended=()=>{t&&t(),cl=null},r.start(),cl=r}function kg(i,t){di();const l=new Audio(`data:audio/webm;base64,${i}`);return l.onended=()=>{t&&t(),ul=null},l.play(),ul=l,l}async function Og(i){return new Promise((t,l)=>{const a=new FileReader;a.onloadend=()=>{const r=a.result.split(",")[1];t(r)},a.onerror=l,a.readAsDataURL(i)})}const oM=({role:i,userName:t})=>{const[l,a]=fe.useState([]),[r,f]=fe.useState(null),[p,g]=fe.useState(!1),[v,h]=fe.useState(!1),[y,S]=fe.useState(null),E=fe.useRef(null),A=fe.useRef([]),I=fe.useRef(null),[L]=fe.useState(()=>`user_${Math.random().toString(36).substr(2,9)}`);fe.useEffect(()=>{const D=mi(Kh,Y=>{const le=Y.val();if(le){const de=Object.entries(le).map(([Ae,Te])=>({...Te,id:Ae}));a(de.sort((Ae,Te)=>Te.timestamp-Ae.timestamp))}else a([])}),W=mi(lo,Y=>{f(Y.val())});return()=>{D(),W(),di()}},[]);const G=async()=>{try{const D=await navigator.mediaDevices.getUserMedia({audio:!0});I.current=D;const W=new MediaRecorder(D,{mimeType:"audio/webm"});E.current=W,A.current=[],W.ondataavailable=Y=>{Y.data.size>0&&A.current.push(Y.data)},W.onstop=async()=>{h(!0);try{const Y=new Blob(A.current,{type:"audio/webm"}),le=await Og(Y);await zy({userId:L,userName:t,audioBase64:le,timestamp:Date.now()})}catch(Y){console.error(Y)}finally{h(!1),I.current&&I.current.getTracks().forEach(Y=>Y.stop())}},W.start(),g(!0)}catch{alert("Microphone access denied.")}},k=()=>{E.current&&p&&(E.current.stop(),g(!1))},X=(D,W)=>{y===D?(di(),S(null)):(S(D),iM(W,()=>S(null)))},O=(D,W)=>{y===D?(di(),S(null)):(S(D),kg(W,()=>S(null)))},F=D=>D==="word"?"Word by Word":D==="slow"?"Slow Natural":"Normal Speed",$=(r==null?void 0:r.referenceAudios)||{},te=Object.keys($).length>0;return N.jsxs("div",{className:"space-y-8",children:[N.jsxs("div",{className:"bg-slate-900/30 p-6 rounded-2xl border border-slate-700 shadow-inner",children:[N.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 mb-6 flex items-center gap-2",children:[N.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Admin Reference Section"]}),te?N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries($).map(([D,W])=>N.jsxs("button",{onClick:()=>X(D,W),className:`flex items-center gap-3 px-5 py-4 rounded-xl transition-all shadow-lg active:scale-95 group relative overflow-hidden border ${y===D?"bg-blue-600 border-blue-400 text-white ring-4 ring-blue-500/20":"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[N.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors shrink-0 ${y===D?"bg-white/20":"bg-blue-500/20 text-blue-400"}`,children:y===D?N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M8 5v14l11-7z"})})}),N.jsxs("div",{className:"text-left overflow-hidden",children:[N.jsx("span",{className:"font-bold text-sm block leading-tight truncate",children:F(D)}),N.jsx("span",{className:"text-[10px] opacity-60 uppercase tracking-tighter",children:"Reference"})]}),y===D&&N.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-white/40 w-full animate-pulse"})]},D))}):N.jsx("div",{className:"bg-slate-800/30 py-10 rounded-xl border border-slate-700/50 border-dashed text-slate-600 italic text-sm text-center",children:"Reference audios will appear here when generated."})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center justify-between px-2",children:[N.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[N.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"User Practice Section"]}),p?N.jsxs("button",{onClick:k,className:"px-4 py-2 bg-red-600 hover:bg-red-500 rounded-xl font-bold flex items-center gap-2 animate-pulse text-white shadow-lg shadow-red-500/20",children:[N.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),"Finish"]}):N.jsxs("button",{onClick:G,disabled:v,className:`px-4 py-2 rounded-xl font-bold flex items-center gap-2 transition-all active:scale-95 shadow-lg ${v?"bg-slate-700 text-slate-400":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z"})}),v?"Saving...":"New Record"]})]}),N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.map(D=>N.jsxs("div",{className:`p-4 rounded-2xl border transition-all flex items-center justify-between group ${y===D.userId?"bg-emerald-600/10 border-emerald-500/50 shadow-[0_0_15px_rgba(16,185,129,0.1)]":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg shadow-inner ${y===D.userId?"bg-emerald-500 text-white":"bg-slate-700 text-emerald-400"}`,children:D.userName.charAt(0).toUpperCase()}),N.jsxs("div",{children:[N.jsxs("p",{className:"font-bold text-white text-sm",children:[D.userName," ",D.userId===L&&"(You)"]}),N.jsx("p",{className:"text-[10px] text-slate-500 font-medium",children:new Date(D.timestamp).toLocaleTimeString()})]})]}),N.jsx("button",{onClick:()=>O(D.userId,D.audioBase64),className:`w-12 h-12 flex items-center justify-center rounded-xl transition-all ${y===D.userId?"bg-emerald-500 text-white shadow-lg rotate-180":"bg-slate-700 text-slate-300 hover:bg-emerald-600 hover:text-white"}`,children:y===D.userId?N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M8 5v14l11-7z"})})})]},D.userId)),l.length===0&&N.jsxs("div",{className:"col-span-full py-10 text-center text-slate-600 border-2 border-dashed border-slate-800 rounded-2xl flex flex-col items-center gap-2",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),N.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-40",children:"Waiting for first attempt"})]})]})]})]})},lM=({role:i,userName:t})=>{const[l,a]=fe.useState([]),[r,f]=fe.useState(""),[p,g]=fe.useState(!1),[v,h]=fe.useState(0),[y,S]=fe.useState(null),E=fe.useRef(null),A=fe.useRef(null),I=fe.useRef([]),L=fe.useRef(null);fe.useEffect(()=>{const D=mi(za,W=>{const Y=W.val();if(Y){const le=Object.entries(Y).map(([de,Ae])=>({...Ae,id:de}));a(le.sort((de,Ae)=>de.timestamp-Ae.timestamp))}});return()=>{D(),di(),L.current&&clearInterval(L.current)}},[]),fe.useEffect(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[l]);const G=async D=>{if(D==null||D.preventDefault(),!(!r.trim()&&!p)){if(p){X();return}await fm({sender:t,text:r.trim(),role:i}),f("")}},k=async()=>{try{const D=await navigator.mediaDevices.getUserMedia({audio:!0}),W=new MediaRecorder(D,{mimeType:"audio/webm"});A.current=W,I.current=[],W.ondataavailable=Y=>{Y.data.size>0&&I.current.push(Y.data)},W.onstop=async()=>{const Y=new Blob(I.current,{type:"audio/webm"}),le=await Og(Y);await fm({sender:t,audioBase64:le,role:i}),D.getTracks().forEach(de=>de.stop())},W.start(),g(!0),h(0),L.current=window.setInterval(()=>{h(Y=>Y+1)},1e3)}catch{alert("Microphone access denied.")}},X=()=>{A.current&&p&&(A.current.stop(),F())},O=()=>{A.current&&(A.current.onstop=null,A.current.stop(),A.current.stream.getTracks().forEach(D=>D.stop())),F()},F=()=>{g(!1),h(0),L.current&&(clearInterval(L.current),L.current=null)},$=(D,W)=>{y===D?(di(),S(null)):(S(D),kg(W,()=>S(null)))},te=D=>{const W=Math.floor(D/60),Y=D%60;return`${W}:${Y.toString().padStart(2,"0")}`};return N.jsxs("div",{className:"flex flex-col h-full gap-4",children:[N.jsxs("div",{ref:E,className:"flex-grow overflow-y-auto space-y-4 pr-2 scrollbar-thin scrollbar-thumb-slate-700",style:{maxHeight:"400px"},children:[l.map(D=>N.jsxs("div",{className:`flex flex-col ${D.sender===t?"items-end":"items-start"}`,children:[N.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:D.sender}),N.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded border ${D.role===it.ADMIN?"border-red-500/30 text-red-500":"border-blue-500/30 text-blue-500"}`,children:D.role})]}),N.jsxs("div",{className:`px-4 py-2 rounded-2xl max-w-[85%] break-words shadow-sm ${D.sender===t?"bg-purple-600 text-white rounded-tr-none":"bg-slate-700 text-slate-100 rounded-tl-none border border-slate-600"}`,children:[D.text&&N.jsx("p",{className:"leading-relaxed",children:D.text}),D.audioBase64&&N.jsxs("div",{className:`flex items-center gap-3 ${D.text?"mt-2 pt-2 border-t border-white/10":""}`,children:[N.jsx("button",{onClick:()=>$(D.id,D.audioBase64),className:`w-10 h-10 flex items-center justify-center rounded-full transition-all ${y===D.id?"bg-white text-purple-600 scale-110":"bg-black/20 text-white hover:bg-black/30"}`,children:y===D.id?N.jsx("svg",{className:"w-5 h-5 animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):N.jsx("svg",{className:"w-5 h-5 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M8 5v14l11-7z"})})}),N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"text-[10px] font-bold opacity-80 uppercase tracking-widest",children:"Voice Note"}),N.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(W=>N.jsx("div",{className:`w-1 rounded-full bg-white/30 ${y===D.id?"animate-bounce h-3":"h-2"}`,style:{animationDelay:`${W*.1}s`}},W))})]})]})]}),N.jsx("span",{className:"text-[8px] text-slate-600 mt-1",children:new Date(D.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},D.id)),l.length===0&&N.jsx("div",{className:"h-full flex items-center justify-center text-slate-600 italic text-sm",children:"Say something or send a voice note..."})]}),N.jsx("div",{className:"pt-4 border-t border-slate-700",children:p?N.jsxs("div",{className:"flex items-center gap-3 bg-red-500/10 p-2 rounded-2xl border border-red-500/30",children:[N.jsxs("div",{className:"flex items-center gap-3 px-3 flex-grow",children:[N.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-ping"}),N.jsx("span",{className:"text-red-400 font-mono font-bold",children:te(v)}),N.jsx("span",{className:"text-red-400/60 text-xs font-bold uppercase tracking-widest ml-2",children:"Recording..."})]}),N.jsx("button",{onClick:O,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors font-bold text-sm",children:"Cancel"}),N.jsxs("button",{onClick:X,className:"bg-red-600 hover:bg-red-500 px-6 py-2 rounded-xl text-white font-bold transition-all shadow-lg shadow-red-500/20 flex items-center gap-2",children:[N.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:N.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),"Send Voice"]})]}):N.jsxs("form",{onSubmit:G,className:"flex gap-2",children:[N.jsx("button",{type:"button",onClick:k,className:"bg-slate-700 hover:bg-slate-600 p-3 rounded-xl transition-all active:scale-95 text-slate-300",title:"Record Voice Note",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),N.jsx("input",{type:"text",value:r,onChange:D=>f(D.target.value),placeholder:"Type a message...",className:"flex-grow bg-slate-700/50 border border-slate-600 px-4 py-3 rounded-xl text-white outline-none focus:ring-2 ring-purple-500"}),N.jsx("button",{type:"submit",disabled:!r.trim(),className:`p-3 rounded-xl transition-all active:scale-95 text-white ${r.trim()?"bg-purple-600 hover:bg-purple-500 shadow-lg shadow-purple-500/20":"bg-slate-800 text-slate-600 cursor-not-allowed"}`,children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 transform rotate-90",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]})},aM=()=>{const[i,t]=fe.useState({role:it.UNSET,userName:"",isAuthenticated:!1}),l=async(a,r)=>{const f=`u_${Date.now()}_${Math.random().toString(36).substr(2,5)}`;if(!await Hy(a,f)){alert("This role was just taken by another user. Please choose another.");return}try{await By()}catch(g){console.warn("Initial cleanup failed, project might be empty:",g)}t({role:a,userName:a===it.ADMIN?"Amine":r,isAuthenticated:!0}),Gy(f,a)};return i.isAuthenticated?N.jsxs("div",{className:"flex flex-col min-h-screen max-w-4xl mx-auto p-4 gap-6 pb-12",children:[N.jsxs("header",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl shadow-lg border border-slate-700",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-2xl font-black bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent",children:"Pronunciation Pro"}),N.jsx("p",{className:"text-slate-400 text-sm",children:"Interactive Practice"})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${i.role===it.ADMIN?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-blue-500/20 text-blue-400 border border-blue-500/50"}`,children:i.role}),N.jsx("span",{className:"font-medium text-slate-300",children:i.userName})]})]}),N.jsxs("section",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700 backdrop-blur-sm",children:[N.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-blue-400",children:[N.jsx("span",{className:"p-1 bg-blue-500/20 rounded",children:""}),"Target Sentence"]}),N.jsx(eM,{role:i.role})]}),N.jsxs("section",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700 backdrop-blur-sm",children:[N.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-emerald-400",children:[N.jsx("span",{className:"p-1 bg-emerald-500/20 rounded",children:""}),"Audio Sections"]}),N.jsx(oM,{role:i.role,userName:i.userName})]}),N.jsxs("section",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700 backdrop-blur-sm flex-grow min-h-[400px]",children:[N.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-purple-400",children:[N.jsx("span",{className:"p-1 bg-purple-500/20 rounded",children:""}),"Chat (Latest 15)"]}),N.jsx(lM,{role:i.role,userName:i.userName})]})]}):N.jsx(Py,{onLogin:l})},Fg=document.getElementById("root");if(!Fg)throw new Error("Could not find root element to mount to");const sM=wy.createRoot(Fg);sM.render(N.jsx(Ey.StrictMode,{children:N.jsx(aM,{})}));
